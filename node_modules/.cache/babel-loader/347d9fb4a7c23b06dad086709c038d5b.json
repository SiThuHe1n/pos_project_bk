{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      isedit: false,\n      name: '',\n      code: '',\n      data: '',\n      id: ''\n    };\n  },\n\n  methods: {\n    doshow: function () {\n      axios.get(localStorage.getItem(\"link\") + \"/api/unittype\").then(response => {\n        console.log(response);\n        this.data = response.data;\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    docreate: function () {\n      //                 \n      if (this.isedit == false) {\n        axios.post(localStorage.getItem(\"link\") + \"/api/unittype\", this.$refs.form).then(response => {\n          console.log(response);\n          this.doshow();\n        }).catch(error => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n      } else {\n        let article = {\n          'name': this.name\n        };\n        axios.patch(localStorage.getItem(\"link\") + \"/api/unittype/\" + this.id, article).then(response => {\n          console.log(response);\n          this.doshow();\n          this.isedit = false;\n        }).catch(error => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n      }\n    },\n    doedit: function (data) {\n      this.isedit = true;\n      this.name = data.name;\n      this.code = data.code;\n      this.id = data.id;\n    },\n    dodelete: function (id) {\n      axios.delete(localStorage.getItem(\"link\") + \"/api/unittype/\" + id).then(response => {\n        console.log(response);\n        this.doshow();\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    }\n  },\n\n  mounted() {\n    this.doshow();\n    this.dat = $(this.$refs.tablefeature).DataTable({\n      \"fnRowCallback\": function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\n        $('td:eq(0)', nRow).html(iDisplayIndexFull + 1);\n      }\n    });\n  },\n\n  watch: {\n    data(val) {\n      this.dat.destroy();\n      this.$nextTick(() => {\n        this.dat = $(this.$refs.tablefeature).DataTable({\n          \"fnRowCallback\": function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\n            $('td:eq(0)', nRow).html(iDisplayIndexFull + 1);\n          }\n        });\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","data","isedit","name","code","id","methods","doshow","get","localStorage","getItem","then","response","console","log","catch","error","errorMessage","message","docreate","post","$refs","form","article","patch","doedit","dodelete","delete","mounted","dat","$","tablefeature","DataTable","nRow","aData","iDisplayIndex","iDisplayIndexFull","html","watch","val","destroy","$nextTick"],"sourceRoot":"","sources":["/Users/sithuhein/Desktop/PosSystem/pos_project_bk/src/views/Product/unit.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"row d-flex justify-content-center\">\n            <div class=\"col-md-5 mb-5\">\n\n\n\n                <form action=\"\" ref=\"form\" v-on:submit.prevent=\"docreate\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        Unit \n                    </div>\n                    <div class=\"card-body\">\n\n\n                            <div class=\"row d-flex justify-content-center\">\n                                            <div class=\"col-md-10 mb-3\">\n                                                <label for=\"\">Code</label>\n                                                <input v-if=\"isedit==false\" name=\"code\" v-model=\"code\"  type=\"text\" class=\"form-control\" requried>\n                                                <input v-if=\"isedit==true\" name=\"code\"  v-model=\"code\" type=\"text\" class=\"form-control\" requried>\n                                        \n                                            </div>\n                                            <div class=\"col-md-10 mb-3\">\n                                                <label for=\"\">Name</label>\n                                                <input v-if=\"isedit==false\" name=\"name\" v-model=\"name\" type=\"text\" class=\"form-control\" requried>\n                                                <input v-if=\"isedit==true\" name=\"name\" v-model=\"name\" type=\"text\" class=\"form-control\" requried>\n                                        \n                                            </div>\n                                            <div class=\"col-md-10 mb-3\">\n                                            <button v-if=\"isedit==false\" type=\"submit\" class=\"btn btn-primary\" style=\"width:100%\">Save</button>\n                                            <button v-if=\"isedit==true\" type=\"submit\"  class=\"btn btn-primary\" style=\"width:100%\">update</button>\n                                            <br>\n                                           <button v-if=\"isedit==true\" @click=\"isedit=false\" type=\"submit\"  class=\"btn btn-danger\" style=\"width:100%\">cancle</button>\n                                            </div>\n                                        </div>\n                        </div>\n        </div>\n\n    </form>\n                </div>\n\n                <div class=\"col-md-10\">\n                    <div> \n                        <table ref=\"tablefeature\" class=\"display \">\n                            <thead>\n                                <tr>\n                                    <th >No</th>\n                                    <th>Code</th>\n                                    <th>Name</th>\n                                    <th>Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                \n                                <tr v-for=\"(dat,index) in data\">    \n                                    <td> {{ ++index }}  </td>\n                                    <td> {{ dat.code }}  </td>\n                                    <td> {{ dat.name }}   </td>\n                                    <td style=\"width:130px;\"> \n                                    <button class=\"btn btn-warning m-1\" @click=\"doedit(dat)\"><font-awesome-icon icon=\"fa-solid fa-pen-to-square\" /></button>    \n                                    <button class=\"btn btn-danger m-1\" @click=\"dodelete(dat.id)\">   <font-awesome-icon icon=\"fa-solid fa-trash\" /></button>\n                                 \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n       \n        </div>\n\n\n\n\n\n\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n    data () {\n        \n\n        return {\n\n            isedit:false,\n            name:'',\n            code:'',\n            data:'',\n            id:'',\n\n        }\n    },\n    methods: {\n    \n        doshow:function()\n        {\n\n          \n     axios.get(localStorage.getItem(\"link\")+\"/api/unittype\")\n       .then(response =>{console.log(response)\n       this.data= response.data\n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n\n        },\n        docreate:function() {\n\n    //                 \n\n             if(this.isedit==false)\n             {\n                axios.post(localStorage.getItem(\"link\")+\"/api/unittype\", this.$refs.form)\n       .then(response =>{console.log(response)\n        this.doshow();\n\n       \n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n             }\n             else{\n                let article={\n                        'name':this.name,\n                  \n                    }\n                axios.patch(localStorage.getItem(\"link\")+\"/api/unittype/\"+this.id, article)\n       .then(response =>{console.log(response)\n        this.doshow();\n\n       this.isedit=false;\n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n             }\n\n        },\n        doedit:function(data)\n        {\n            this.isedit=true;\n            this.name=data.name;\n            this.code=data.code;\n            this.id=data.id;\n        },\n        dodelete:function(id)\n        {\n            axios.delete(localStorage.getItem(\"link\")+\"/api/unittype/\"+id)\n       .then(response =>{console.log(response)\n        this.doshow();\n\n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n        }\n        \n        \n    \n    },\n   \n    mounted () {\n        this.doshow();\n        this.dat= $(this.$refs.tablefeature).DataTable({\n\n\"fnRowCallback\": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {\n$('td:eq(0)', nRow).html(iDisplayIndexFull +1);\n}\n\n})\n    },\n    watch: {\n        data(val) {\n    this.dat.destroy();\n    this.$nextTick(() => {\n        this.dat= $(this.$refs.tablefeature).DataTable({\n\n            \"fnRowCallback\": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {\n        $('td:eq(0)', nRow).html(iDisplayIndexFull +1);\n    }\n\n        })\n    });\n    }\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}