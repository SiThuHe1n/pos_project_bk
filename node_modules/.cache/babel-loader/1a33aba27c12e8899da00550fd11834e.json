{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      isedit: false,\n      name: '',\n      code: '',\n      data: '',\n      id: '',\n      phone: '',\n      email: '',\n      phone2: '',\n      address: ''\n    };\n  },\n\n  watch: {\n    data(val) {\n      this.dat.destroy();\n      this.$nextTick(() => {\n        this.dat = $(this.$refs.tablefeature).DataTable({\n          \"fnRowCallback\": function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\n            $('td:eq(0)', nRow).html(iDisplayIndexFull + 1);\n          }\n        });\n      });\n    }\n\n  },\n  methods: {\n    doshow: function () {\n      axios.get(localStorage.getItem(\"link\") + \"/api/supplier\").then(response => {\n        console.log(response);\n        this.data = response.data;\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    docreate: function () {\n      //                 \n      if (this.isedit == false) {\n        axios.post(localStorage.getItem(\"link\") + \"/api/supplier\", this.$refs.form).then(response => {\n          console.log(response);\n          this.doshow();\n        }).catch(error => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n      } else {\n        axios.post(localStorage.getItem(\"link\") + \"/api/supplier/\" + this.id, this.$refs.form).then(response => {\n          console.log(response);\n          this.doshow();\n          this.isedit = false;\n        }).catch(error => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n      }\n    },\n    doedit: function (data) {\n      this.isedit = true;\n      this.name = data.name;\n      this.code = data.code;\n      this.phone = data.phone;\n      this.phone2 = data.phone2;\n      this.address = data.address;\n      this.email = data.email;\n      this.id = data.id;\n    },\n    dodelete: function (id) {\n      axios.delete(localStorage.getItem(\"link\") + \"/api/brand/\" + id).then(response => {\n        console.log(response);\n        this.doshow();\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    }\n  },\n\n  mounted() {\n    this.doshow();\n    this.dat = $(this.$refs.tablefeature).DataTable({\n      \"fnRowCallback\": function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\n        $('td:eq(0)', nRow).html(iDisplayIndexFull + 1);\n      }\n    });\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","data","isedit","name","code","id","phone","email","phone2","address","watch","val","dat","destroy","$nextTick","$","$refs","tablefeature","DataTable","nRow","aData","iDisplayIndex","iDisplayIndexFull","html","methods","doshow","get","localStorage","getItem","then","response","console","log","catch","error","errorMessage","message","docreate","post","form","doedit","dodelete","delete","mounted"],"sourceRoot":"","sources":["/Users/sithuhein/Desktop/PosSystem/pos_project_bk/src/views/Purchase/supplier.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"row d-flex justify-content-center\">\n            <div class=\"col-md-5 mb-5\">\n\n\n\n                <form action=\"\" ref=\"form\" v-on:submit.prevent=\"docreate\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        Supplier \n                    </div>\n                    <div class=\"card-body\">\n\n\n                            <div class=\"row d-flex justify-content-center\">\n                                            <div class=\"col-md-10 mb-3\">\n                                                <label for=\"\">Code</label>\n                                                <input v-if=\"isedit==false\" name=\"code\" v-model=\"code\"  type=\"text\" class=\"form-control\" requried>\n                                                <input v-if=\"isedit==true\" name=\"code\"  v-model=\"code\" type=\"text\" class=\"form-control\" requried>\n                                        \n                                            </div>\n                                            \n                                            <div class=\"col-md-10 mb-3\">\n                                                <label for=\"\">Name</label>\n                                                <input v-if=\"isedit==false\" name=\"name\" v-model=\"name\" type=\"text\" class=\"form-control\" requried>\n                                                <input v-if=\"isedit==true\" name=\"name\" v-model=\"name\" type=\"text\" class=\"form-control\" requried>\n                                        \n                                            </div>\n                                            <div class=\"col-md-10 mb-3\">\n                                                <label for=\"\">Email</label>\n                                                <input v-if=\"isedit==false\" name=\"email\" v-model=\"email\"  type=\"text\" class=\"form-control\" requried>\n                                                <input v-if=\"isedit==true\" name=\"email\"  v-model=\"email\" type=\"text\" class=\"form-control\" requried>\n                                        \n                                            </div>\n                                            <div class=\"col-md-10 mb-3\">\n                                                <label for=\"\">Phone1</label>\n                                                <input v-if=\"isedit==false\" name=\"phone\" v-model=\"phone\"  type=\"text\" class=\"form-control\" requried>\n                                                <input v-if=\"isedit==true\" name=\"phone\"  v-model=\"phone\" type=\"text\" class=\"form-control\" requried>\n                                        \n                                            </div>\n\n                                            <div class=\"col-md-10 mb-3\">\n                                                <label for=\"\">Phone2</label>\n                                                <input v-if=\"isedit==false\" name=\"phone2\" v-model=\"phone2\"  type=\"text\" class=\"form-control\" requried>\n                                                <input v-if=\"isedit==true\" name=\"phone2\"  v-model=\"phone2\" type=\"text\" class=\"form-control\" requried>\n                                        \n                                            </div>\n\n                                            <div class=\"col-md-10 mb-3\">\n                                                <label for=\"\">Address</label>\n                                                <textarea v-if=\"isedit==false\" name=\"address\" v-model=\"address\"  type=\"text\" class=\"form-control\" requried></textarea>\n                                                <textarea v-if=\"isedit==true\" name=\"address\"  v-model=\"address\" type=\"text\" class=\"form-control\" requried></textarea>\n                                        \n                                            </div>\n\n                                            <input v-if=\"isedit==true\" name=\"_method\"  type=\"hidden\" value=\"PATCH\" class=\"form-control\" requried>\n                                        \n\n\n\n                                            <div class=\"col-md-10 mb-3\">\n                                            <button v-if=\"isedit==false\" type=\"submit\" class=\"btn btn-primary\" style=\"width:100%\">Save</button>\n                                            <button v-if=\"isedit==true\" type=\"submit\"  class=\"btn btn-primary\" style=\"width:100%\">update</button>\n                                            <br>\n                                           <button v-if=\"isedit==true\" @click=\"isedit=false\" type=\"submit\"  class=\"btn btn-danger\" style=\"width:100%\">cancle</button>\n                                            </div>\n                                        </div>\n                        </div>\n        </div>\n\n    </form>\n                </div>\n\n                <div class=\"col-md-10\">\n                    <div>\n                        <table ref=\"tablefeature\" class=\"display\">\n                            <thead>\n                                <tr>\n                                    <th >No</th>\n                                    <th>Code</th>\n                                    <th>Name</th>\n                                    <th>TotalPaid</th>\n                                    <th>NeedtoPaid</th>\n                                    <th>Information</th>\n                              \n                                    <th>Action</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                \n                                <tr v-for=\"(dat,index) in data\">    \n                                    <td> {{ ++index }}  </td>\n                                    <td> {{ dat.code }}  </td>\n                                    <td> {{ dat.name }}   </td>\n                                    <td> {{ dat.purchaseamount }}   </td>\n                                    <td> {{ dat.needtopaid }}   </td>\n                                    <td>\n                                        <span v-if=\"dat.phone=='' \">   Phone: {{ dat.phone }} </span>    \n                                        <span v-if=\"dat.phone=='' \">   Phone2: {{ dat.phone2 }} </span>  \n                                        <span v-if=\"dat.phone=='' \">   Email: {{ dat.email }} </span>  \n                                        <span v-if=\"dat.phone=='' \">   Address: {{ dat.phone }} </span>  \n                                        \n                                        \n                                        \n                                       <br> \n                                        : {{ dat. }}  <br>\n                                        : {{ dat. }}  <br>\n                                        : {{ dat.address }}  <br></td>\n                                    <td style=\"width:130px;\"> \n                                    <button class=\"btn btn-warning m-1\" @click=\"doedit(dat)\"><font-awesome-icon icon=\"fa-solid fa-pen-to-square\" /></button>    \n                                    <button class=\"btn btn-danger m-1\" @click=\"dodelete(dat.id)\">   <font-awesome-icon icon=\"fa-solid fa-trash\" /></button>\n                                 \n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n       \n        </div>\n\n\n\n\n\n\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n    data () {\n        \n\n        return {\n\n            isedit:false,\n            name:'',\n            code:'',\n            data:'',\n            id:'',\n            phone:'',\n            email:'',\n            phone2:'',\n            address:''\n\n        }\n    },\n    watch: {\n        data(val) {\n    this.dat.destroy();\n    this.$nextTick(() => {\n        this.dat= $(this.$refs.tablefeature).DataTable({\n\n            \"fnRowCallback\": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {\n        $('td:eq(0)', nRow).html(iDisplayIndexFull +1);\n    }\n\n        })\n    });\n    }\n    },\n    methods: {\n    \n        doshow:function()\n        {\n\n          \n     axios.get(localStorage.getItem(\"link\")+\"/api/supplier\")\n       .then(response =>{console.log(response)\n       this.data= response.data\n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n\n        },\n        docreate:function() {\n\n    //                 \n\n             if(this.isedit==false)\n             {\n                axios.post(localStorage.getItem(\"link\")+\"/api/supplier\", this.$refs.form)\n       .then(response =>{console.log(response)\n        this.doshow();\n\n       \n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n             }\n             else{\n            \n                axios.post(localStorage.getItem(\"link\")+\"/api/supplier/\"+this.id, this.$refs.form)\n       .then(response =>{console.log(response)\n        this.doshow();\n\n       this.isedit=false;\n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n             }\n\n        },\n        doedit:function(data)\n        {\n            this.isedit=true;\n            this.name=data.name;\n            this.code=data.code;\n            this.phone=data.phone;\n            this.phone2=data.phone2;\n            this.address=data.address;\n            this.email=data.email;\n\n            this.id=data.id;\n        },\n        dodelete:function(id)\n        {\n            axios.delete(localStorage.getItem(\"link\")+\"/api/brand/\"+id)\n       .then(response =>{console.log(response)\n        this.doshow();\n\n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n        }\n        \n        \n    \n    },\n    mounted () {\n        this.doshow();\n        this.dat= $(this.$refs.tablefeature).DataTable({\n\n\"fnRowCallback\": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {\n$('td:eq(0)', nRow).html(iDisplayIndexFull +1);\n}\n\n})\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}