{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { tSExpressionWithTypeArguments } from '@babel/types';\nimport axios from 'axios';\nexport default {\n  name: \"App\",\n\n  data() {\n    return {\n      totalpaid: '',\n      supplier: '',\n      showproduct: [],\n      showproduct2: [],\n      selectedproduct: null,\n      purchaseList: [],\n      name: \"\",\n      sprice: \"\",\n      pprice: \"\",\n      qty: \"\",\n      mtype: \"\",\n      desc: \"\",\n      id: null,\n      btnproduct: 'Add Product',\n      totalprice: \"\",\n      search: \"\",\n      pid: '',\n      productlist: null,\n      percentage: '',\n      selectpick: ''\n    };\n  },\n\n  methods: {\n    doshowproduct: function () {\n      axios.get(localStorage.getItem(\"link\") + \"/api/product\").then(response => {\n        this.productlist = response.data;\n        console.log(this.productlist);\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n\n    setpercentage() {\n      if (this.sprice != \"\" && this.pprice != \"\") {\n        let value = parseInt(this.sprice) - parseInt(this.pprice);\n        this.percentage = parseFloat(value / this.pprice * 100);\n      }\n    },\n\n    calpercentage() {\n      if (this.pprice != \"\") {\n        let saleprice = 0;\n        saleprice = parseInt(this.pprice) + parseInt(this.pprice / 100 * this.percentage);\n        this.sprice = saleprice;\n      }\n    },\n\n    caltotalprice() {\n      let totalprc = 0;\n\n      for (let a = 0; a < this.purchaseList.length; a++) {\n        totalprc += this.purchaseList[a].pprice * this.purchaseList[a].qty;\n      }\n\n      this.totalprice = totalprc;\n    },\n\n    addproduct() {\n      let name = this.name;\n      let sprice = this.sprice;\n      let pprice = this.pprice;\n      let qty = this.qty;\n      let mtype = this.mtype;\n      let desc = this.desc;\n\n      if (name == \"\") {\n        return document.getElementById(\"name\").focus();\n      }\n\n      if (sprice == \"\") {\n        return document.getElementById(\"sprice\").focus();\n      }\n\n      if (pprice == \"\") {\n        return document.getElementById(\"pprice\").focus();\n      }\n\n      if (qty == \"\") {\n        return document.getElementById(\"qty\").focus();\n      }\n\n      if (mtype == \"\") {\n        return document.getElementById(\"mtype\").focus();\n      }\n\n      for (let a = 0; a < this.purchaseList.length; a++) {\n        if (this.purchaseList[a].name == name && this.purchaseList[a].mtype == mtype && this.btnproduct != \"Update\") {\n          return alert('already'), this.btnproduct = \"Add Product\";\n        } else if (this.purchaseList[a].id == this.id + 1) {\n          if (this.purchaseList[a].name == name && this.purchaseList[a].pprice == pprice && this.purchaseList[a].desc == desc && this.purchaseList[a].sprice == sprice && this.purchaseList[a].qty == qty && this.purchaseList[a].mtype == mtype) {\n            return alert('Dosent Change'), this.btnproduct = \"Add Product\";\n          }\n\n          for (let b = 0; b < this.purchaseList.length; b++) {\n            if (this.purchaseList[b].name == name && this.purchaseList[b].mtype == mtype && b != a) {\n              return alert('Item Already');\n            }\n          }\n\n          this.purchaseList[a].name = name;\n          this.purchaseList[a].sprice = sprice;\n          this.purchaseList[a].pprice = pprice;\n          this.purchaseList[a].qty = qty;\n          this.purchaseList[a].mtype = mtype;\n          this.purchaseList[a].desc = desc;\n          this.id = this.purchaseList.length + 1;\n          this.btnproduct = \"Add Product\";\n          return this.caltotalprice(), alert('updated');\n        }\n      }\n\n      this.purchaseList.push({\n        pid: this.pid,\n        id: this.id,\n        name: name,\n        sprice: sprice,\n        pprice: pprice,\n        qty: qty,\n        mtype: mtype,\n        desc: desc\n      });\n      this.id++;\n      this.caltotalprice();\n    },\n\n    removeproduct(idas) {\n      this.purchaseList.splice(idas, 1);\n      this.caltotalprice();\n    },\n\n    edit(id) {\n      this.id = this.purchaseList[id].id - 1;\n      this.name = this.purchaseList[id].name;\n      this.sprice = this.purchaseList[id].sprice;\n      this.pprice = this.purchaseList[id].pprice;\n      this.qty = this.purchaseList[id].qty;\n      this.mtype = this.purchaseList[id].mtype;\n      this.desc = this.purchaseList[id].desc;\n      this.btnproduct = \"Update\";\n      this.setpercentage();\n    },\n\n    selectitem(id) {\n      this.selectedproduct = [];\n      this.search = this.showproduct2[id].name;\n      this.selectedproduct = {\n        id: this.showproduct2[id].id,\n        name: this.showproduct2[id].name,\n        mtype: this.showproduct2[id].mtype,\n        sprice: this.showproduct2[id].sprice,\n        pprice: this.showproduct2[id].pprice\n      };\n      this.showproduct2 = [];\n      this.pid = this.selectedproduct.id;\n      this.name = this.selectedproduct.name;\n      this.pprice = this.selectedproduct.pprice;\n      this.sprice = this.selectedproduct.sprice;\n      this.mtype = this.selectedproduct.mtype;\n      this.setpercentage();\n    },\n\n    searcher() {\n      this.showproduct2 = [];\n\n      for (let a = 0; a < this.showproduct.length; a++) {\n        if (this.search.toLowerCase() == this.showproduct[a].name.toLowerCase()) {\n          this.showproduct2.push({\n            id: this.showproduct[a].id,\n            name: this.showproduct[a].name,\n            Brand: this.showproduct[a].Brand,\n            Category: this.showproduct[a].Category,\n            SubCategory: this.showproduct[a].SubCategory,\n            mtype: this.showproduct[a].mtype,\n            pprice: this.showproduct[a].pprice,\n            sprice: this.showproduct[a].sprice\n          });\n        }\n      }\n    },\n\n    setproduct() {\n      console.log(this.productlist.length);\n\n      for (let a = 0; a < this.productlist.length; a++) {\n        if (this.productlist[a].id == this.selectpick) {\n          this.pid = this.productlist[a].id;\n          this.name = this.productlist[a].name;\n          this.pprice = this.productlist[a].purchase_price;\n          this.mtype = this.productlist[a].unittype_id;\n        }\n      }\n    },\n\n    printvoucher() {\n      var mywindow = window.open('', 'PRINT', 'height=1000,width=800');\n      mywindow.document.write('<html><head><title> Purchase  Voucher</title>');\n      mywindow.document.write(`</head><body >\n  <style>\n    table, th, td {\n  border: 1px solid black;\n  border-radius:10px;\n  border-collapse: collapse;\n}\n    </style>\n  \n        `);\n      mywindow.document.write('<h1>' + document.title + '</h1>');\n      mywindow.document.write(document.getElementById('printelement').innerHTML);\n      mywindow.document.write(`\n   \n    </body></html>`);\n      mywindow.document.close(); // necessary for IE >= 10\n\n      mywindow.focus(); // necessary for IE >= 10*/\n\n      mywindow.print();\n      mywindow.close();\n      return true;\n    }\n\n  },\n\n  mounted() {\n    this.doshowproduct();\n    this.showproduct.push({\n      id: 1,\n      name: 'Coffee',\n      Brand: 'Premier',\n      Category: 'Coffee',\n      SubCategory: 'Mix',\n      mtype: 'pack',\n      sprice: '1500',\n      pprice: '1400'\n    });\n    this.showproduct.push({\n      id: 1,\n      name: 'Juice',\n      Brand: 'Premier',\n      Category: 'Juice',\n      SubCategory: 'Mix',\n      mtype: 'pack',\n      sprice: '1500',\n      pprice: '1400'\n    });\n    this.showproduct.push({\n      id: 1,\n      name: 'Orange',\n      Brand: 'Premier',\n      Category: 'Orange',\n      SubCategory: 'Mix',\n      mtype: 'pack',\n      sprice: '1500',\n      pprice: '1400'\n    });\n    $('.selectpick').selectpicker({\n      liveSearch: true,\n      noneSelectedText: 'Nichts ausgewählt'\n    });\n  },\n\n  updated() {\n    $('.selectpick').selectpicker('refresh');\n  },\n\n  watch: {\n    filterstate() {//v-model of select\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["tSExpressionWithTypeArguments","axios","name","data","totalpaid","supplier","showproduct","showproduct2","selectedproduct","purchaseList","sprice","pprice","qty","mtype","desc","id","btnproduct","totalprice","search","pid","productlist","percentage","selectpick","methods","doshowproduct","get","localStorage","getItem","then","response","console","log","catch","error","errorMessage","message","setpercentage","value","parseInt","parseFloat","calpercentage","saleprice","caltotalprice","totalprc","a","length","addproduct","document","getElementById","focus","alert","b","push","removeproduct","idas","splice","edit","selectitem","searcher","toLowerCase","Brand","Category","SubCategory","setproduct","purchase_price","unittype_id","printvoucher","mywindow","window","open","write","title","innerHTML","close","print","mounted","$","selectpicker","liveSearch","noneSelectedText","updated","watch","filterstate"],"sourceRoot":"","sources":["C:\\Users\\Si Thu Hein\\OneDrive - University of Greenwich\\Desktop\\store program\\store_front\\pos_system_own_project\\src\\views\\Purchase\\purchaseItem.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <section>\r\n            <div class=\"row gx-0\">\r\n                <div class=\"col-sm-5\">\r\n                    <div class=\"row gx-0\">\r\n                        <div class=\"col-md-4\">\r\n                            <label for=\"\">Search</label>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n        \r\n                            <select name=\"\" class=\" selectpick\" data-live-search=\"true\" v-model=\"selectpick\"  id=\"selectpick\">\r\n                                <option value=\"\"> Select </option>\r\n                                <option v-for=\"pl in productlist\" :value=\" pl.id \"> {{ pl.code  }} {{pl.name}} </option>\r\n                             \r\n                            </select>\r\n\r\n                     \r\n                        </div>\r\n                        <div class=\"col-md-2\">\r\n                            <button class=\"btn btn-primary\" @click=\"setproduct()\">Add</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"card p-3 m-3 ms-4 shadow  bg-body rounded\">\r\n                                <div class=\"row gx-0 mb-3\">\r\n                        <div class=\"col-md-4\">\r\n                           <label for=\"\">Product Name : </label>\r\n                           \r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                            <input type=\"text\" class=\"form-control\" id=\"name\" v-model=\"name\" disabled>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row gx-0 mb-3\">\r\n                        <div class=\"col-md-4\">\r\n                           <label for=\"\">Purchase Price : </label>\r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                            <input type=\"number\" class=\"form-control\" id=\"pprice\"   v-model=\"pprice\">\r\n                        </div>\r\n                    </div>\r\n                 \r\n                    <div class=\"row gx-0 mb-3\">\r\n                        <div class=\"col-md-4\">\r\n                           <label for=\"\">Quantity : </label>\r\n                        </div>\r\n                        <div class=\"col-md-5\">\r\n                            <input type=\"number\" class=\"form-control\" id=\"qty\" v-model=\"qty\">\r\n                        </div>\r\n                        <div class=\"col-md-3\">\r\n                         <select name=\"\" class=\"form-control\" disabled id=\"mtype\" v-model=\"mtype\">\r\n                            <option value=\"pack\">pack</option>\r\n                            <option value=\"Piece\">Piece</option>\r\n                         </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row gx-0 mb-3 \">\r\n                        <div class=\"col-md-4\">\r\n                           <label for=\"\">Description : </label>\r\n                        </div>\r\n                        <div class=\"col-md-8\">\r\n                            <textarea type=\"text\" class=\"form-control\" v-model=\"desc\"></textarea>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row gx-0 mb-3 d-flex justify-content-center \">\r\n                    <div class=\"col-md-8\">\r\n                        <button class=\"btn btn-primary\" @click=addproduct()>{{btnproduct}}</button>\r\n                    </div>\r\n                    </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n               \r\n                </div>\r\n                <div class=\"col-sm-7\">\r\n                    <div class=\"row  card p-3 m-2 me-4 mb-3 shadow  bg-body rounded\">\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"row \">\r\n                                <div class=\"col-md-6\">\r\n                        <label for=\"\">Supplier</label>   \r\n                        <select name=\"\" class=\"form-control\" v-model=\"supplier\" id=\"\">\r\n                        <option value=\"Ko Aung\">Ko Aung</option>\r\n                        <option value=\"Ko Aung\">Ko Myo</option>\r\n                        <option value=\"Ko Aung\">Ko Soe</option>\r\n                        <option value=\"Ko Aung\">Ko Thu</option>\r\n                    \r\n                    \r\n                    </select>\r\n\r\n                        <label for=\"\">Total Price</label>   \r\n                        <input type=\"text\" v-model=\"totalprice\" class=\"form-control\" disabled>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n                            <label for=\"\">Total Paid</label>   \r\n                        <input type=\"text\" class=\"form-control\" v-model=\"totalpaid\">\r\n                            <br>\r\n                        <button class=\"btn btn-primary\" @click=\"printvoucher\">Purchase</button>\r\n                       \r\n                        \r\n                        </div>\r\n                            </div>\r\n                        </div>\r\n                    \r\n                    </div>\r\n                    <div class=\"row card p-3 m-2 me-4 shadow  bg-body rounded\">\r\n                        <div class=\"col-md-12 overflow-scroll\">\r\n                            <table class=\"table table-bordered \">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>No</th>\r\n                                    <th>Name</th>\r\n                                    <th>Qty</th>\r\n                                    <th>B_Price</th>\r\n                                    <th>S_Price</th>\r\n                                    <th>Description</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(plist,index) in purchaseList\" v-bind:key = \"plist.id\">\r\n                                    <td>\r\n                                       {{plist.id=index+1}} \r\n                              \r\n                                   </td>\r\n                                    <td>{{plist.name}}</td>\r\n                                    <td><span>{{plist.qty}}</span> <span> {{plist.mtype}}</span></td>\r\n                                    \r\n                                    <td>{{plist.pprice}}</td>\r\n                                    <td>{{plist.sprice}}</td>\r\n                                    <td>{{plist.desc}}</td>\r\n                                    <td><button class=\"btn btn-danger\" @click=\"removeproduct(index)\">Del{{}}</button><button class=\"btn btn-warning\" @click=\"edit(index)\">Edit {{index}}</button></td>\r\n\r\n\r\n                                </tr>\r\n\r\n                            </tbody>\r\n                            \r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                \r\n\r\n        </section>\r\n\r\n        <section>\r\n            <div class=\"invisible\" id=\"printelement\" style=\"margin:30px;padding:30px;border:1px;border-style:solid;border-radius:5px;\">\r\n                <h1 style=\"text-align:center;\">Kyu Kyu Win</h1>\r\n\r\n                <div class=\"\" style=\"display:flex; position: relative;\">\r\n                    <div class=\" \" style=\"text-align:left; display:inline;\">\r\n                    <h3>Supplier : <b> {{supplier}}</b></h3>\r\n                    <h3>Phone : <b> 12345678</b></h3>\r\n                    <h3>Address : <b>Yangon</b></h3>\r\n                    </div>\r\n                    <div class=\"\" style=\"text-align:right;display:inline;right:0;position: absolute;\">\r\n                        <h3>Date : <b>12/12/2022</b></h3>\r\n                    </div>\r\n                </div>\r\n                <div class=\"\">\r\n                    <div class=\"\">\r\n                        <table style=\"width:100%;border:1px;border-style:solid;\">\r\n                            <thead >\r\n                                <tr  >\r\n                                   <th>No</th>\r\n                                   <th>Name</th>\r\n                                   <th>Qty</th>\r\n                                   <th>Price</th>\r\n                                   <th>Desc</th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(plist,index) in purchaseList\" v-bind:key = \"plist.id\">\r\n                                    <td>\r\n                                       {{plist.id=index+1}} \r\n                              \r\n                                   </td>\r\n                                    <td>{{plist.name}}</td>\r\n                                    <td><span>{{plist.qty}}</span> <span> {{plist.mtype}}</span></td>\r\n                                    \r\n                                    <td>{{plist.pprice}}</td>\r\n                                \r\n                                    <td>{{plist.desc}}</td>\r\n                                 \r\n\r\n                                </tr>\r\n                                \r\n                                <tr>\r\n                                <td></td>\r\n                                <td colspan=\"3\">Total Charges:</td>\r\n                                <td >{{totalprice}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td></td>\r\n                                <td colspan=\"3\">Total Paid:</td>\r\n                                <td >{{totalpaid}}</td>\r\n                            </tr>\r\n\r\n                            \r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { tSExpressionWithTypeArguments } from '@babel/types';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"App\",\r\n \r\n    data () {\r\n        \r\n\r\n        return {\r\n            totalpaid:'',\r\n            supplier:'',\r\n            showproduct:[],\r\n            showproduct2:[],\r\n            selectedproduct:null,\r\n            purchaseList:[],\r\n            name:\"\",\r\n            sprice:\"\",\r\n            pprice:\"\",\r\n            qty:\"\",\r\n            mtype:\"\",\r\n            desc:\"\",\r\n            id:null,\r\n            btnproduct:'Add Product',\r\n            totalprice:\"\",\r\n            search:\"\",\r\n            pid:'',\r\n            productlist:null,\r\n            percentage:'',\r\n            selectpick:'',\r\n\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        doshowproduct:function()\r\n      {\r\n        \r\n        axios.get(localStorage.getItem(\"link\")+\"/api/product\")\r\n   .then(response =>{\r\n    this.productlist=response.data\r\n    console.log(this.productlist);\r\n   \r\n   \r\n  \r\n   })\r\n   .catch(error => {\r\n     this.errorMessage = error.message;\r\n     console.error(\"There was an error!\", error);\r\n      })\r\n      },\r\n        setpercentage()\r\n        {\r\n            if(this.sprice!=\"\" && this.pprice!=\"\")\r\n            {\r\n            let value=parseInt(this.sprice)-parseInt(this.pprice);\r\n            this.percentage=parseFloat(value/this.pprice*100);\r\n            }\r\n        \r\n        },\r\n        calpercentage() {\r\n            if(this.pprice!=\"\")\r\n            {\r\n                let saleprice=0;\r\n            saleprice= parseInt(this.pprice) +parseInt((this.pprice/100)*this.percentage);\r\n            this.sprice=saleprice;\r\n            }\r\n        },\r\n        caltotalprice()\r\n        {\r\n            let totalprc=0;\r\n            for (let a=0;a<this.purchaseList.length;a++)\r\n            {\r\n                totalprc+=this.purchaseList[a].pprice*this.purchaseList[a].qty\r\n            } \r\n            this.totalprice=totalprc;\r\n   \r\n        },\r\n   \r\n\r\n        addproduct() {\r\n  \r\n            let name=this.name;\r\n            let sprice=this.sprice;\r\n            let pprice=this.pprice;\r\n            let qty=this.qty;\r\n            let mtype=this.mtype;\r\n            let desc=this.desc;\r\n           if(name==\"\")\r\n           {\r\n           return  document.getElementById(\"name\").focus();\r\n           }\r\n            if(sprice==\"\")\r\n           {\r\n            return document.getElementById(\"sprice\").focus();\r\n           }\r\n            if(pprice==\"\")\r\n           {\r\n            return document.getElementById(\"pprice\").focus();\r\n           }\r\n            if(qty==\"\")\r\n           {\r\n            return document.getElementById(\"qty\").focus();\r\n           }\r\n            if(mtype==\"\")\r\n           {\r\n            return document.getElementById(\"mtype\").focus();\r\n           }\r\n\r\n           \r\n            for (let a=0;a<this.purchaseList.length;a++)\r\n            {\r\n                if(this.purchaseList[a].name==name && \r\n             \r\n             \r\n                this.purchaseList[a].mtype==mtype &&\r\n                this.btnproduct!=\"Update\"\r\n                \r\n            )\r\n                {\r\n                  \r\n                    return (alert('already'),this.btnproduct=\"Add Product\")\r\n                }\r\n                \r\n                else if(this.purchaseList[a].id==this.id+1 )\r\n                {\r\n                    \r\n                    if(this.purchaseList[a].name==name && \r\n                    this.purchaseList[a].pprice==pprice && \r\n                    this.purchaseList[a].desc==desc && \r\n                    this.purchaseList[a].sprice==sprice && \r\n             \r\n             this.purchaseList[a].qty==qty && \r\n             this.purchaseList[a].mtype==mtype \r\n     \r\n         )\r\n             {\r\n               \r\n                 return (alert('Dosent Change'),this.btnproduct=\"Add Product\")\r\n             }\r\n             for (let b=0;b<this.purchaseList.length;b++)\r\n             {     \r\n          \r\n            if(this.purchaseList[b].name==name && \r\n             this.purchaseList[b].mtype==mtype && b!=a)\r\n             {\r\n                return (alert('Item Already'))\r\n             }\r\n\r\n             }\r\n         \r\n             \r\n            \r\n                    this.purchaseList[a].name=name  \r\n                this.purchaseList[a].sprice=sprice \r\n                this.purchaseList[a].pprice=pprice \r\n                this.purchaseList[a].qty=qty \r\n                this.purchaseList[a].mtype=mtype \r\n                this.purchaseList[a].desc=desc \r\n                this.id=this.purchaseList.length+1;\r\n                this.btnproduct=\"Add Product\"\r\n                return (  this.caltotalprice(), alert('updated') )\r\n                }\r\n               \r\n            \r\n             \r\n            }\r\n            this.purchaseList.push(\r\n                {\r\n                    pid:this.pid,\r\n                    id:this.id,\r\n                    name:name,\r\n                    sprice:sprice,\r\n                    pprice:pprice,\r\n                    qty:qty,\r\n                    mtype:mtype,\r\n                    desc:desc,\r\n                }\r\n               \r\n            );\r\n            this.id++\r\n       \r\n \r\n            this.caltotalprice()\r\n          \r\n        },\r\n        removeproduct(idas)\r\n        {\r\n          \r\n            this.purchaseList.splice(idas, 1);\r\n            this.caltotalprice();\r\n        },\r\n        edit(id)\r\n        {\r\n            this.id=this.purchaseList[id].id-1;\r\n          this.name=this.purchaseList[id].name;\r\n        this.sprice=this.purchaseList[id].sprice;\r\n          this.pprice=this.purchaseList[id].pprice;\r\n         this.qty=this.purchaseList[id].qty;\r\n         this.mtype=this.purchaseList[id].mtype;\r\n          this.desc=this.purchaseList[id].desc;\r\n          this.btnproduct=\"Update\"\r\n          this.setpercentage()\r\n        },\r\n        selectitem(id)\r\n        {\r\n                this.selectedproduct=[];\r\n            this.search=this.showproduct2[id].name;\r\n            this.selectedproduct=\r\n                {\r\n                    id:this.showproduct2[id].id,\r\n                    name:this.showproduct2[id].name,\r\n                    mtype:this.showproduct2[id].mtype,\r\n                    sprice:this.showproduct2[id].sprice,\r\n                    pprice:this.showproduct2[id].pprice,\r\n\r\n                }\r\n                this.showproduct2=[]\r\n                this.pid= this.selectedproduct.id\r\n            this.name=  this.selectedproduct.name\r\n            this.pprice=this.selectedproduct.pprice\r\n            this.sprice=this.selectedproduct.sprice\r\n      \r\n            this.mtype=this.selectedproduct.mtype\r\n            this.setpercentage()\r\n            \r\n        },\r\n        searcher()\r\n        {\r\n            this.showproduct2=[]\r\n            for(let a=0;a<this.showproduct.length;a++)\r\n            {\r\n                if(this.search.toLowerCase()==this.showproduct[a].name.toLowerCase())\r\n                {\r\n                    this.showproduct2.push(\r\n                        {\r\n                            id:this.showproduct[a].id,\r\n                            name:this.showproduct[a].name,\r\n                            Brand:this.showproduct[a].Brand,\r\n                            Category:this.showproduct[a].Category,\r\n                            SubCategory:this.showproduct[a].SubCategory,\r\n                            mtype:this.showproduct[a].mtype,\r\n                            pprice:this.showproduct[a].pprice,\r\n                            sprice:this.showproduct[a].sprice\r\n                            \r\n                        }\r\n                    )\r\n                }\r\n            }\r\n            \r\n        },\r\n        setproduct()\r\n        {\r\n            \r\n           console.log(this.productlist.length) \r\n           for(let a=0;a<this.productlist.length;a++)\r\n           {\r\n            if(this.productlist[a].id==this.selectpick)\r\n            {\r\n                this.pid= this.productlist[a].id\r\n            this.name=  this.productlist[a].name\r\n            this.pprice=this.productlist[a].purchase_price\r\n\r\n      \r\n            this.mtype=this.productlist[a].unittype_id\r\n        \r\n            }\r\n           }\r\n        \r\n\r\n        },\r\n        printvoucher()\r\n{\r\n    var mywindow = window.open('', 'PRINT', 'height=1000,width=800');\r\n\r\n    mywindow.document.write('<html><head><title> Purchase  Voucher</title>');\r\n    mywindow.document.write(`</head><body >\r\n  <style>\r\n    table, th, td {\r\n  border: 1px solid black;\r\n  border-radius:10px;\r\n  border-collapse: collapse;\r\n}\r\n    </style>\r\n  \r\n        `);\r\n    mywindow.document.write('<h1>' + document.title  + '</h1>');\r\n    mywindow.document.write(document.getElementById('printelement').innerHTML);\r\n    mywindow.document.write(`\r\n   \r\n    </body></html>`);\r\n\r\n    mywindow.document.close(); // necessary for IE >= 10\r\n    mywindow.focus(); // necessary for IE >= 10*/\r\n\r\n    mywindow.print();\r\n    mywindow.close();\r\n\r\n    return true;\r\n}\r\n    },\r\n    mounted () {\r\nthis.doshowproduct()\r\n\r\n        this.showproduct.push(\r\n            {\r\n                id:1,\r\n                name:'Coffee',\r\n                Brand:'Premier',\r\n                Category:'Coffee',\r\n                SubCategory:'Mix',\r\n                mtype:'pack',\r\n                sprice:'1500',\r\n                pprice:'1400'\r\n            }\r\n        )\r\n        this.showproduct.push(\r\n            {\r\n                id:1,\r\n                name:'Juice',\r\n                Brand:'Premier',\r\n                Category:'Juice',\r\n                SubCategory:'Mix',\r\n                mtype:'pack',\r\n                sprice:'1500',\r\n                pprice:'1400'\r\n            }\r\n        )\r\n        this.showproduct.push(\r\n            {\r\n                id:1,\r\n                name:'Orange',\r\n                Brand:'Premier',\r\n                Category:'Orange',\r\n                SubCategory:'Mix',\r\n                mtype:'pack',\r\n                sprice:'1500',\r\n                pprice:'1400'\r\n            }\r\n        )\r\n  \r\n        $('.selectpick').selectpicker({\r\n    liveSearch: true,\r\n    noneSelectedText: 'Nichts ausgewählt',\r\n});\r\n    },\r\n    updated () {\r\n        $('.selectpick').selectpicker('refresh');\r\n    },\r\n    watch: {\r\n        filterstate(){//v-model of select\r\n\r\n\r\n  }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}