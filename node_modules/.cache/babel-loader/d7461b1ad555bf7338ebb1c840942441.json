{"ast":null,"code":"import axios from 'axios';\nimport router from './../../router';\nexport default {\n  data() {\n    return {\n      product_id: this.$route.query.product_id,\n      mtype: [],\n      stocklist: null\n    };\n  },\n\n  methods: {\n    docreate: function () {\n      //                 \n      axios.post(localStorage.getItem(\"link\") + \"/api/productstock\", this.$refs.form).then(response => {\n        console.log(response);\n        this.showdata();\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    showdata: function () {\n      //                 \n      axios.get(localStorage.getItem(\"link\") + \"/api/productstock\", this.$refs.form).then(response => {\n        console.log(response);\n        this.stocklist = response.data;\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    doshow: function (database) {\n      axios.get(localStorage.getItem(\"link\") + \"/api/\" + database).then(response => {\n        if (database == 'brand') {\n          this.listbrand = response.data;\n        }\n\n        if (database == 'category') {\n          this.category = response.data;\n        }\n\n        if (database == 'subcategory') {\n          this.subcategory = response.data;\n        }\n\n        if (database == 'unittype') {\n          this.mtype = response.data;\n        }\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    }\n  },\n\n  mounted() {\n    this.doshow('unittype');\n    this.showdata();\n  }\n\n};","map":{"version":3,"mappings":"AA8EA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,eAAe;EACXC,IAAG,GAAK;IAGJ,OAAO;MACHC,UAAU,EAAC,KAAKC,MAAL,CAAYC,KAAZ,CAAkBF,UAD1B;MAEHG,KAAK,EAAC,EAFH;MAGHC,SAAS,EAAC;IAHP,CAAP;EAOH,CAXU;;EAYXC,OAAO,EAAE;IACLC,QAAQ,EAAC,YAAW;;MAKhBT,KAAK,CAACU,IAAN,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,mBAAxC,EAA6D,KAAKC,KAAL,CAAWC,IAAxE,EACRC,IADQ,CACHC,QAAO,IAAI;QAACC,OAAO,CAACC,GAAR,CAAYF,QAAZ;QACjB,KAAKG,QAAL;MAGA,CALQ,EAMRC,KANQ,CAMFC,KAAI,IAAK;QACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;QACAN,OAAO,CAACI,KAAR,CAAc,qBAAd,EAAqCA,KAArC;MACE,CATK;IAaP,CAnBQ;IAoBTF,QAAQ,EAAC,YAAW;;MAKZnB,KAAK,CAACwB,GAAN,CAAUb,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,mBAAvC,EAA4D,KAAKC,KAAL,CAAWC,IAAvE,EACRC,IADQ,CACHC,QAAO,IAAI;QAACC,OAAO,CAACC,GAAR,CAAYF,QAAZ;QAEb,KAAKT,SAAL,GAAeS,QAAQ,CAACd,IAAxB;MAEJ,CALQ,EAMRkB,KANQ,CAMFC,KAAI,IAAK;QACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;QACAN,OAAO,CAACI,KAAR,CAAc,qBAAd,EAAqCA,KAArC;MACE,CATK;IAaP,CAtCQ;IAyCbI,MAAM,EAAC,UAASC,QAAT,EAAkB;MAGzB1B,KAAK,CAACwB,GAAN,CAAUb,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,OAA7B,GAAqCc,QAA/C,EACIX,IADJ,CACSC,QAAO,IAAK;QACjB,IAAGU,QAAQ,IAAE,OAAb,EACA;UACI,KAAKC,SAAL,GAAiBX,QAAQ,CAACd,IAA1B;QACJ;;QACA,IAAGwB,QAAQ,IAAE,UAAb,EACA;UACI,KAAKE,QAAL,GAAgBZ,QAAQ,CAACd,IAAzB;QACJ;;QACA,IAAGwB,QAAQ,IAAE,aAAb,EACA;UACI,KAAKG,WAAL,GAAmBb,QAAQ,CAACd,IAA5B;QACJ;;QACA,IAAGwB,QAAQ,IAAE,UAAb,EACA;UACI,KAAKpB,KAAL,GAAaU,QAAQ,CAACd,IAAtB;QACJ;MAMA,CAvBJ,EAwBIkB,KAxBJ,CAwBUC,KAAI,IAAK;QACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;QACAN,OAAO,CAACI,KAAR,CAAc,qBAAd,EAAqCA,KAArC;MAA6C,CA1BlD;IA6BQ;EAzEK,CAZE;;EAuFXS,OAAM,GAAK;IACP,KAAKL,MAAL,CAAY,UAAZ;IACA,KAAKN,QAAL;EACH;;AA1FU,CAAf","names":["axios","router","data","product_id","$route","query","mtype","stocklist","methods","docreate","post","localStorage","getItem","$refs","form","then","response","console","log","showdata","catch","error","errorMessage","message","get","doshow","database","listbrand","category","subcategory","mounted"],"sourceRoot":"","sources":["C:\\Users\\Si Thu Hein\\OneDrive - University of Greenwich\\Desktop\\store program\\store_front\\pos_system_own_project\\src\\views\\Product\\productdetail.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"col-md-12 \">\r\n            \r\n                <div class=\"row d-flex justify-content-center\">\r\n                    <div class=\"col-5 border p-3 shadow rounded m-2\">\r\n                        <table>\r\n                            <tr>\r\n                                <td>Name</td>\r\n                                <td> </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Code</td>\r\n                                <td> </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Brand</td>\r\n                                <td> </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Description</td>\r\n                                <td> </td>\r\n                            </tr>\r\n                        </table>\r\n                        </div>\r\n            <div class=\"col-5 border p-3 shadow rounded m-2\">\r\n                <form action=\"\"  ref=\"form\" v-on:submit.prevent=\"docreate\">\r\n                    <input type=\"hidden\" :value=\"product_id\" name=\"product_id\">\r\n                    <label for=\"\">Unit Type</label>\r\n                    <select name=\"unittype\" id=\"\" class=\"form-select\" required>\r\n                        <option value=\"\"> Select </option>\r\n                        <option v-for=\"mt in mtype\" :value=\"mt.id\">{{ mt.name }}</option>\r\n                    </select>\r\n                    <label for=\"\"> Amount </label>\r\n                    <input type=\"number\" name=\"amount\" class=\"form-control\" required>\r\n                    <label for=\"\"> Price </label>\r\n                    <input type=\"number\" name=\"price\" class=\"form-control\" required>\r\n                    <button class=\"btn btn-primary  mt-3\" style=\"width:100%\" type=\"submit\">Add Product Unit</button>  \r\n                </form>\r\n                </div>\r\n                </div>\r\n\r\n            <!-- <form action=\"\">\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n\r\n                    </div>\r\n                </div>\r\n            </form> -->\r\n\r\n                <table class=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                        <th>No </th>\r\n                        <th>Product Unit </th>\r\n                        <th>Amount </th>\r\n                        <th>Price </th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"(sl,index) in stocklist\">\r\n                            <td>{{ ++index }} </td>\r\n                            <td >  <span v-for=\"mt in mtype\"><span> </span> </span> {{ sl. }} </td>\r\n                            <td>{{ sl.amount }}  </td>\r\n                            <td>{{ sl.price }}  </td>\r\n                            <td> </td>\r\n                        </tr>\r\n                    </tbody>\r\n                 \r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport router from './../../router'\r\nexport default {\r\n    data () {\r\n        \r\n\r\n        return {\r\n            product_id:this.$route.query.product_id,\r\n            mtype:[],\r\n            stocklist:null,\r\n            \r\n\r\n        }\r\n    },\r\n    methods: {\r\n        docreate:function() {\r\n\r\n//                 \r\n\r\n \r\n            axios.post(localStorage.getItem(\"link\")+\"/api/productstock\", this.$refs.form)\r\n   .then(response =>{console.log(response)\r\n    this.showdata()\r\n    \r\n  \r\n   })\r\n   .catch(error => {\r\n     this.errorMessage = error.message;\r\n     console.error(\"There was an error!\", error);\r\n      })\r\n      \r\n      \r\n\r\n    },\r\n    showdata:function() {\r\n\r\n//                 \r\n\r\n \r\n            axios.get(localStorage.getItem(\"link\")+\"/api/productstock\", this.$refs.form)\r\n   .then(response =>{console.log(response)\r\n    \r\n        this.stocklist=response.data\r\n  \r\n   })\r\n   .catch(error => {\r\n     this.errorMessage = error.message;\r\n     console.error(\"There was an error!\", error);\r\n      })\r\n      \r\n      \r\n\r\n    },\r\n\r\n     \r\ndoshow:function(database){\r\n\r\n  \r\naxios.get(localStorage.getItem(\"link\")+\"/api/\"+database)\r\n   .then(response => {\r\n    if(database=='brand')\r\n    {\r\n        this.listbrand = response.data\r\n    }\r\n    if(database=='category')\r\n    {\r\n        this.category = response.data\r\n    }\r\n    if(database=='subcategory')\r\n    {\r\n        this.subcategory = response.data\r\n    }\r\n    if(database=='unittype')\r\n    {\r\n        this.mtype = response.data\r\n    }\r\n\r\n\r\n  \r\n    \r\n       \r\n   })\r\n   .catch(error => {\r\n     this.errorMessage = error.message;\r\n     console.error(\"There was an error!\", error);});\r\n     \r\n\r\n       },\r\n    },\r\n    mounted () {\r\n        this.doshow('unittype');\r\n        this.showdata()\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}