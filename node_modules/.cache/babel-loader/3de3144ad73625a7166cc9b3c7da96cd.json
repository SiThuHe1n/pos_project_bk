{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      link: 'http://127.0.0.1:8000',\n      percentage: '',\n      saleprice: '',\n      purchaseprice: '',\n      brandlist: '',\n      categorylist: '',\n      subcategorylist: '',\n      mtypelist: '',\n      listbrand: [],\n      category: [],\n      subcategory: [],\n      mtype: [],\n      newbrand: '',\n      newcategory: '',\n      newsubcategory: '',\n      newmtype: '',\n      isedit: false,\n      isaddproduct: true,\n      productlist: null\n    };\n  },\n\n  mounted() {\n    this.doshow('brand');\n    this.doshow('category');\n    this.doshow('subcategory');\n    this.doshow('unittype');\n    this.doshowproduct();\n  },\n\n  methods: {\n    doshowproduct: function () {\n      axios.get(localStorage.getItem(\"link\") + \"/api/product\").then(response => {\n        this.productlist = response.data;\n        console.log(this.productlist);\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    docreate: function () {\n      let inputdata = {\n        data: this.$refs.form\n      };\n\n      if (this.isedit == false) {\n        axios.post(localStorage.getItem(\"link\") + \"/api/product\", this.$refs.form).then(response => {\n          console.log(response);\n          this.doshowproduct();\n        }).catch(error => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n      } else {\n        let article = {\n          'name': this.name,\n          'code': this.code\n        };\n        axios.patch(localStorage.getItem(\"link\") + \"/api/product/\" + this.id, article).then(response => {\n          console.log(response);\n          this.doshowproduct();\n          this.isedit = false;\n        }).catch(error => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n      }\n    },\n    doshow: function (database) {\n      axios.get(this.link + \"/api/\" + database).then(response => {\n        if (database == 'brand') {\n          this.listbrand = response.data;\n        }\n\n        if (database == 'category') {\n          this.category = response.data;\n        }\n\n        if (database == 'subcategory') {\n          this.subcategory = response.data;\n        }\n\n        if (database == 'unittype') {\n          this.mtype = response.data;\n        }\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","data","link","percentage","saleprice","purchaseprice","brandlist","categorylist","subcategorylist","mtypelist","listbrand","category","subcategory","mtype","newbrand","newcategory","newsubcategory","newmtype","isedit","isaddproduct","productlist","mounted","doshow","doshowproduct","methods","get","localStorage","getItem","then","response","console","log","catch","error","errorMessage","message","docreate","inputdata","$refs","form","post","article","name","code","patch","id","database"],"sourceRoot":"","sources":["C:\\Users\\Si Thu Hein\\OneDrive - University of Greenwich\\Desktop\\store program\\store_front\\pos_system_own_project\\src\\views\\Product\\p_register.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <div v-if=\"isaddproduct==true\" class=\"row gx-0 d-flex justify-content-center\">\r\n                <div class=\"col-xxl-5 col-xl-8 col-lg-8  col-md-8 border shadow p-5 m-5\">\r\n                    <h1> <b>Add Product</b></h1>\r\n                  <form  ref=\"form\"  action=\"\" v-on:submit.prevent=\"docreate\">\r\n                    <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                    <label for=\"\">Name</label>\r\n                    <input class=\"form-control m-1\" name=\"name\" v-model=\"productname\" type=\"text\" placeholder=\"Enter Product Name\" required> \r\n                    <label for=\"\">Code</label>\r\n                    <input class=\"form-control m-1\" name=\"code\" v-model=\"productname\" type=\"text\" placeholder=\"Enter Product Name\" required>\r\n\r\n              \r\n                    <label for=\"\">Quantity</label>\r\n                    <input class=\"form-control m-1\" name=\"amount\" v-model=\"quantity\" type=\"text\" placeholder=\"Enter Product Name\">\r\n         \r\n\r\n                    \r\n\r\n                    <label for=\"\">Purchase Price</label>\r\n                    <div class=\"row gx-0 \">\r\n                        <div class=\"col-sm-12\"> \r\n                            <input type=\"text\" name=\"price\" class=\"form-control\" v-model=\"purchaseprice\">\r\n                        </div>\r\n\r\n                    \r\n                                                \r\n                     </div>\r\n\r\n                     <label for=\"\">Amount </label>\r\n                    <div class=\"row gx-0 \">\r\n                        <div class=\"col-sm-12\"> \r\n                            <input type=\"text\" name=\"amount\" class=\"form-control\" v-model=\"amount\">\r\n                        </div>\r\n\r\n                    \r\n                                                \r\n                     </div>\r\n              \r\n                </div>\r\n                <div class=\"col-6 \">\r\n                    \r\n                    <label for=\"\">Category</label> \r\n                    <div class=\"row gx-0\">\r\n                        <div class=\"col-sm-12\">\r\n                            <select  name=\"category\" class=\"form-select\" v-model=\"categorylist\" id=\"categorylist\">\r\n                            <option v-for=\"c in category\" :value=c.code>{{c.name}}</option>\r\n                           \r\n                            </select>\r\n        \r\n                        </div>\r\n\r\n                    \r\n                      \r\n                    </div>\r\n              \r\n\r\n\r\n                    <!--  -->\r\n                    <label for=\"\">Subcategory</label> \r\n                    <div class=\"row gx-0\">\r\n                        <div class=\"col-sm-12\">\r\n                            <select  name=\"subcategory\" class=\"form-select \" v-model=\"subcategorylist\" id=\"subcategorylist\">\r\n                            <option v-for=\"c in subcategory\" :value=c.code>{{c.name}}</option>\r\n                           \r\n                            </select>\r\n        \r\n                        </div>\r\n\r\n                  \r\n                      \r\n                    </div>\r\n               \r\n                    <!-- unittype -->\r\n                    <!-- <label for=\"\">Unit Type</label> \r\n                    <div class=\"row gx-0\">\r\n                        <div class=\"col-sm-12\">\r\n                            <select  name=\"unittype\" class=\"form-select \" v-model=\"mtypelist\" id=\"mtypelist\" required>\r\n                          <option value=\"\">Please Select</option>\r\n                 \r\n                            <option v-for=\"c in mtype\" :value=c.code>{{c.name}}</option>\r\n                           \r\n                            </select>\r\n        \r\n                        </div>\r\n\r\n                      \r\n                    </div> -->\r\n\r\n                    <label for=\"\">Brand</label> \r\n                    <div class=\"row gx-0\">\r\n                        <div class=\"col-sm-12\">\r\n                            <select    name=\"brand\" v-model=\"brandlist\" class=\"form-select\" id=\"\">\r\n                            <option v-for=\"b in listbrand\" :value=b.code>{{b.name}}</option>\r\n       \r\n                            </select>\r\n        \r\n                        </div>\r\n\r\n                      \r\n                      \r\n                    </div>\r\n                \r\n\r\n\r\n             \r\n                <label for=\"\">Description</label>\r\n                    <textarea  class=\"form-control\" name=\"description\" v-model=\"productdescription\" id=\"\" cols=\"30\" rows=\"3\"></textarea>\r\n            \r\n                    \r\n           \r\n\r\n\r\n       \r\n\r\n\r\n\r\n\r\n\r\n                   \r\n                </div>\r\n                \r\n            </div>\r\n            <div class=\"d-flex justify-content-end\">\r\n            <button type=\"button\" class=\"btn btn-secondary m-2\" @click=\"isaddproduct=!isaddproduct\" >Close</button>\r\n        <button type=\"submit\" class=\"btn btn-primary m-2\">Create</button>\r\n       \r\n        </div>\r\n     \r\n                  </form>\r\n        \r\n        \r\n        \r\n     \r\n              </div>\r\n            </div>\r\n      \r\n\r\n<div class=\"row gx-0 d-flex justify-content-center p-5\">\r\n    <div class=\"col-sm-3  d-flex justify-content-center\">\r\n        \r\n<button type=\"button\" class=\"btn btn-primary\" v-if=\"isaddproduct==false\" @click=\"isaddproduct=!isaddproduct\">\r\n  Add Product\r\n</button>\r\n\r\n    </div>\r\n    <div class=\"col-sm-4 d-flex justify-content-center\">\r\n        <div class=\"row \">\r\n            <div class=\"col-sm-6\">\r\n                <h5>Filter by Name :</h5>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n                <select class=\"form-control\" id=\"\">\r\n            <option value=\"\"> Filter by Name</option>\r\n            <option value=\"\"> Filter by Brand</option>\r\n            <option value=\"\"> Filter by Category</option>\r\n            <option value=\"\"> Filter by SubCategory</option>\r\n\r\n        </select>\r\n                </div>\r\n\r\n        </div>\r\n     \r\n        \r\n            </div>\r\n            <div class=\"col-sm-4  d-flex justify-content-center\">\r\n                <div class=\"row\">\r\n            <div class=\"col-sm-6\">\r\n                <h5>Search with :</h5>\r\n            </div>\r\n            <div class=\"col-sm-6\">\r\n                <input type=\"text\" placeholder=\"search\" class=\"form-control\">\r\n      \r\n                </div>\r\n\r\n        </div>\r\n     \r\n  \r\n            </div>\r\n\r\n</div>\r\n\r\n<div class=\"row gx-0 d-flex justify-content-center mt-5\">\r\n<div class=\"col-sm-10 \">\r\n    <table class=\"table table-bordered table-hover\">\r\n        <thead> \r\n            <tr>\r\n             \r\n                <th>No</th>\r\n                <th>Code</th>\r\n                <th>Name</th>\r\n                <th>Unit</th>\r\n                <th>Quantity</th>\r\n                <th>purchase_price</th>\r\n          \r\n                <th>Action</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"(dat,index) in productlist\">\r\n                <td> {{++index}} </td>\r\n                <td> {{dat.code}} </td>\r\n                <td>  {{dat.name}} </td>\r\n\r\n                <td v-for=\"ut in mtype \" >  <span v-if=\"dat.unittype_id==ut.code\">{{dat.unittype_id}}  </span></td>\r\n                <td>  {{dat.amount}} </td>\r\n                <td>  {{dat.purchase_price}} </td>\r\n     \r\n                <td>\r\n                    <button> </button>\r\n                    \r\n                    <button>Edit</button>\r\n                    <button>Delete</button></td>\r\n            \r\n\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n\r\n</div>\r\n\r\n<!-- Modal -->\r\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add Product</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n  \r\n      </div>\r\n      <div class=\"modal-footer\">\r\n    \r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nexport default {\r\n    data () {\r\n        \r\n\r\n        return {\r\n            link:'http://127.0.0.1:8000',\r\n            percentage:'',\r\n            saleprice:'',\r\n            purchaseprice:'',\r\n            brandlist:'',\r\n            categorylist:'',\r\n           subcategorylist:'',\r\n            mtypelist:'',\r\n\r\n            listbrand:[],\r\n\r\n            category:[],\r\n            subcategory:[],\r\n            mtype:[],\r\n            newbrand:'',\r\n            newcategory:'',\r\n            newsubcategory:'',\r\n            newmtype:'',\r\n      \r\n            isedit:false,\r\n            isaddproduct:true,\r\n            productlist:null,\r\n\r\n        }\r\n    },\r\n    mounted () {\r\n        this.doshow('brand')\r\n        this.doshow('category')\r\n        this.doshow('subcategory')\r\n        this.doshow('unittype')\r\n        this.doshowproduct()\r\n    },\r\n    methods: {\r\n      doshowproduct:function()\r\n      {\r\n        \r\n        axios.get(localStorage.getItem(\"link\")+\"/api/product\")\r\n   .then(response =>{\r\n    this.productlist=response.data\r\n    console.log(this.productlist);\r\n   \r\n   \r\n  \r\n   })\r\n   .catch(error => {\r\n     this.errorMessage = error.message;\r\n     console.error(\"There was an error!\", error);\r\n      })\r\n      },\r\n        docreate:function() {\r\n\r\n                let inputdata={\r\n                    data:this.$refs.form,\r\n              \r\n                }\r\n\r\n         if(this.isedit==false)\r\n         {\r\n\r\n            axios.post(localStorage.getItem(\"link\")+\"/api/product\",this.$refs.form)\r\n   .then(response =>{console.log(response)\r\n   \r\n    this.doshowproduct()\r\n  \r\n   })\r\n   .catch(error => {\r\n     this.errorMessage = error.message;\r\n     console.error(\"There was an error!\", error);\r\n      })\r\n         }\r\n         else{\r\n            let article={\r\n                    'name':this.name,\r\n                    'code':this.code\r\n                }\r\n            axios.patch(localStorage.getItem(\"link\")+\"/api/product/\"+this.id, article)\r\n   .then(response =>{console.log(response)\r\n   \r\n    this.doshowproduct()\r\n   this.isedit=false;\r\n  \r\n   })\r\n   .catch(error => {\r\n     this.errorMessage = error.message;\r\n     console.error(\"There was an error!\", error);\r\n      })\r\n         }\r\n\r\n    },\r\n \r\ndoshow:function(database){\r\n\r\n  \r\n    axios.get(this.link+\"/api/\"+database)\r\n       .then(response => {\r\n        if(database=='brand')\r\n        {\r\n            this.listbrand = response.data\r\n        }\r\n        if(database=='category')\r\n        {\r\n            this.category = response.data\r\n        }\r\n        if(database=='subcategory')\r\n        {\r\n            this.subcategory = response.data\r\n        }\r\n        if(database=='unittype')\r\n        {\r\n            this.mtype = response.data\r\n        }\r\n \r\n \r\n      \r\n        \r\n           \r\n       })\r\n       .catch(error => {\r\n         this.errorMessage = error.message;\r\n         console.error(\"There was an error!\", error);});\r\n         \r\n\r\n           },\r\n\r\n\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n   \r\n</style>"]},"metadata":{},"sourceType":"module"}