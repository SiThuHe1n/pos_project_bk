{"ast":null,"code":"import axios from 'axios';\nimport router from './../../router';\nexport default {\n  data() {\n    return {\n      product_id: this.$route.query.product_id,\n      mtype: [],\n      stocklist: null,\n      uid: '',\n      uunittype: '',\n      uamount: '',\n      upurchaseprice: '',\n      usellingprice: ''\n    };\n  },\n\n  methods: {\n    dodelete: function (id) {\n      //                 \n      axios.post(localStorage.getItem(\"link\") + \"/api/deletestock/\" + id).then(response => {\n        console.log(response);\n        this.showdata();\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    doedit: function (data) {},\n    doupdate: function () {\n      //                 \n      axios.post(localStorage.getItem(\"link\") + \"/api/productstock/\" + this.uid, this.$refs.form).then(response => {\n        console.log(response);\n        this.showdata();\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    docreate: function () {\n      //                 \n      axios.post(localStorage.getItem(\"link\") + \"/api/productstock\", this.$refs.form).then(response => {\n        console.log(response);\n        this.showdata();\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    showdata: function () {\n      //                 \n      axios.get(localStorage.getItem(\"link\") + \"/api/productstock\", this.$refs.form).then(response => {\n        console.log(response);\n        this.stocklist = response.data;\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    doshow: function (database) {\n      axios.get(localStorage.getItem(\"link\") + \"/api/\" + database).then(response => {\n        if (database == 'brand') {\n          this.listbrand = response.data;\n        }\n\n        if (database == 'category') {\n          this.category = response.data;\n        }\n\n        if (database == 'subcategory') {\n          this.subcategory = response.data;\n        }\n\n        if (database == 'unittype') {\n          this.mtype = response.data;\n        }\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    }\n  },\n\n  mounted() {\n    this.doshow('unittype');\n    this.showdata();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","router","data","product_id","$route","query","mtype","stocklist","uid","uunittype","uamount","upurchaseprice","usellingprice","methods","dodelete","id","post","localStorage","getItem","then","response","console","log","showdata","catch","error","errorMessage","message","doedit","doupdate","$refs","form","docreate","get","doshow","database","listbrand","category","subcategory","mounted"],"sourceRoot":"","sources":["/Users/sithuhein/Desktop/PosSystem/pos_project_bk/src/views/Product/productdetail.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"row d-flex justify-content-center\">\n            <div class=\"col-md-12 \">\n            \n                <div class=\"row d-flex justify-content-center\">\n                    <div class=\"col-5 border p-3 shadow rounded m-2\">\n                        <table>\n                            <tr>\n                                <td>Name</td>\n                                <td> </td>\n                            </tr>\n                            <tr>\n                                <td>Code</td>\n                                <td> </td>\n                            </tr>\n                            <tr>\n                                <td>Brand</td>\n                                <td> </td>\n                            </tr>\n                            <tr>\n                                <td>Description</td>\n                                <td> </td>\n                            </tr>\n                        </table>\n                        </div>\n            <div class=\"col-5 border p-3 shadow rounded m-2\">\n                <form action=\"\"  ref=\"form\" v-on:submit.prevent=\"docreate\">\n                    <input type=\"hidden\" :value=\"product_id\" name=\"product_id\">\n                    <label for=\"\">Unit Type</label>\n                    <select name=\"unittype\" id=\"\" class=\"form-select\" required>\n                        <option value=\"\"> Select </option>\n                        <option v-for=\"mt in mtype\" :value=\"mt.id\">{{ mt.name }}</option>\n                    </select>\n                    <label for=\"\"> Amount </label>\n                    <input type=\"number\" name=\"amount\" class=\"form-control\" required>\n                    <label for=\"\">PurchasePrice</label>\n     <input type=\"number\" class=\"form-control\" name=\"purchaseprice\" required>\n\n     <label for=\"\">SellingPrice</label>\n     <input type=\"number\" class=\"form-control\" name=\"sellingprice\" required>\n                    <button class=\"btn btn-primary  mt-3\" style=\"width:100%\" type=\"submit\">Add Product Unit</button>  \n                </form>\n                </div>\n                </div>\n\n            <!-- <form action=\"\">\n                <div class=\"row\">\n                    <div class=\"col\">\n\n                    </div>\n                </div>\n            </form> -->\n            <div class=\"border rounded shadow p-4 m-3\">\n                <table class=\"table table-hover table-bordered\">\n                    <thead>\n                        <tr>\n                        <th>No </th>\n                        <th>Product Unit </th>\n                        <th>Amount </th>\n                        <th>purchaseprice </th>\n                        <th>sellingprice </th>\n                        <th>Action</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"(sl,index) in stocklist\">\n                            <td>{{ ++index }} </td>\n                            <td >  <span v-for=\"mt in mtype\"><span v-if=\"sl.unittype_id==mt.id\">{{ mt.name }}</span> </span>  </td>\n                            <td>{{ sl.amount }}  </td>\n                            <td>{{ sl.purchaseprice }}  </td>\n                            <td>\n                           \n                                \n                                {{ sl.sellingprice }}  </td>\n                            <td>\n                              \n                                <button class=\"btn btn-danger \" @click=\"dodelete(sl.id)\">   <font-awesome-icon icon=\"fa-solid fa-trash\" /> </button>    \n                                <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n  Launch demo modal\n</button>\n\n<!-- Modal -->\n\n                            </td>\n                        </tr>\n                    </tbody>\n                 \n                </table>\n            </div>\n               \n            </div>\n        </div>\n    </div>\n    <form action=\"\"  ref=\"form\" v-on:submit.prevent=\"docreate\">\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">Edit Detail</h1>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n\n\n       \n                    <input type=\"hidden\" :value=\"product_id\" name=\"product_id\">\n                    <label for=\"\">Unit Type</label>\n                    <select name=\"unittype\" id=\"\" v-model=\"uunittype\" class=\"form-select\" required>\n                        <option value=\"\"> Select </option>\n                        <option v-for=\"mt in mtype\" :value=\"mt.id\">{{ mt.name }}</option>\n                    </select>\n                    <input type=\"text\" class=\"form-control\" name=\"id\" v-model=\"uid\" required>\n     <label for=\"\">Amount</label>\n     <input type=\"text\" class=\"form-control\" name=\"amount\" v-model=\"amount\" required>\n\n     <label for=\"\">PurchasePrice</label>\n     <input type=\"text\" class=\"form-control\" v-model=\"upurchaseprice\" name=\"purchaseprice\" required>\n\n     <label for=\"\">SellingPrice</label>\n     <input type=\"text\" class=\"form-control\" v-model=\"uid\" name=\"sellingprice\" required>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n        <button type=\"submit\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>\n</form>\n</template>\n\n<script>\nimport axios from 'axios';\nimport router from './../../router'\nexport default {\n    data () {\n        \n\n        return {\n            product_id:this.$route.query.product_id,\n            mtype:[],\n            stocklist:null,\n            uid:'',\n            uunittype:'',\n            uamount:'',\n            upurchaseprice:'',\n            usellingprice:'',\n\n            \n\n        }\n    },\n    methods: {\n   \n        dodelete:function(id) {\n\n//                 \n\n \n            axios.post(localStorage.getItem(\"link\")+\"/api/deletestock/\"+id)\n   .then(response =>{console.log(response)\n    this.showdata()\n    \n  \n   })\n   .catch(error => {\n     this.errorMessage = error.message;\n     console.error(\"There was an error!\", error);\n      })\n      \n      \n\n    },\n    doedit:function(data)\n    {\n\n    },\n\n    doupdate:function() {\n\n//                 \n\n \n            axios.post(localStorage.getItem(\"link\")+\"/api/productstock/\"+this.uid, this.$refs.form)\n   .then(response =>{console.log(response)\n    this.showdata()\n    \n  \n   })\n   .catch(error => {\n     this.errorMessage = error.message;\n     console.error(\"There was an error!\", error);\n      })\n      \n      \n\n    },\n\n        docreate:function() {\n\n//                 \n\n \n            axios.post(localStorage.getItem(\"link\")+\"/api/productstock\", this.$refs.form)\n   .then(response =>{console.log(response)\n    this.showdata()\n    \n  \n   })\n   .catch(error => {\n     this.errorMessage = error.message;\n     console.error(\"There was an error!\", error);\n      })\n      \n      \n\n    },\n    showdata:function() {\n\n//                 \n\n \n            axios.get(localStorage.getItem(\"link\")+\"/api/productstock\", this.$refs.form)\n   .then(response =>{console.log(response)\n    \n        this.stocklist=response.data\n  \n   })\n   .catch(error => {\n     this.errorMessage = error.message;\n     console.error(\"There was an error!\", error);\n      })\n      \n      \n\n    },\n\n     \ndoshow:function(database){\n\n  \naxios.get(localStorage.getItem(\"link\")+\"/api/\"+database)\n   .then(response => {\n    if(database=='brand')\n    {\n        this.listbrand = response.data\n    }\n    if(database=='category')\n    {\n        this.category = response.data\n    }\n    if(database=='subcategory')\n    {\n        this.subcategory = response.data\n    }\n    if(database=='unittype')\n    {\n        this.mtype = response.data\n    }\n\n\n  \n    \n       \n   })\n   .catch(error => {\n     this.errorMessage = error.message;\n     console.error(\"There was an error!\", error);});\n     \n\n       },\n    },\n    mounted () {\n        this.doshow('unittype');\n        this.showdata()\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}