{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      isedit: false,\n      name: '',\n      code: '',\n      data: '',\n      id: ''\n    };\n  },\n\n  methods: {\n    doshow: function () {\n      axios.get(localStorage.getItem(\"link\") + \"/api/category\").then(response => {\n        console.log(response);\n        this.data = response.data;\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    docreate: function () {\n      //                 \n      if (this.isedit == false) {\n        axios.post(localStorage.getItem(\"link\") + \"/api/category\", this.$refs.form).then(response => {\n          console.log(response);\n          this.doshow();\n        }).catch(error => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n      } else {\n        let article = {\n          'name': this.name,\n          'code': this.code\n        };\n        axios.patch(localStorage.getItem(\"link\") + \"/api/category/\" + this.id, article).then(response => {\n          console.log(response);\n          this.doshow();\n          this.isedit = false;\n        }).catch(error => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n      }\n    },\n    doedit: function (data) {\n      this.isedit = true;\n      this.name = data.name;\n      this.code = data.code;\n      this.id = data.id;\n    },\n    dodelete: function (id) {\n      axios.delete(localStorage.getItem(\"link\") + \"/api/category/\" + id).then(response => {\n        console.log(response);\n        this.doshow();\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    }\n  },\n\n  mounted() {\n    this.doshow();\n  }\n\n};","map":{"version":3,"mappings":"AAgFA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;EACXC,IAAG,GAAK;IAGJ,OAAO;MAEHC,MAAM,EAAC,KAFJ;MAGHC,IAAI,EAAC,EAHF;MAIHC,IAAI,EAAC,EAJF;MAKHH,IAAI,EAAC,EALF;MAMHI,EAAE,EAAC;IANA,CAAP;EASH,CAbU;;EAcXC,OAAO,EAAE;IAELC,MAAM,EAAC,YACP;MAGHP,KAAK,CAACQ,GAAN,CAAUC,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,eAAvC,EACGC,IADH,CACQC,QAAO,IAAI;QAACC,OAAO,CAACC,GAAR,CAAYF,QAAZ;QAClB,KAAKX,IAAL,GAAWW,QAAQ,CAACX,IAApB;MAEC,CAJH,EAKGc,KALH,CAKSC,KAAI,IAAK;QACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;QACAL,OAAO,CAACG,KAAR,CAAc,qBAAd,EAAqCA,KAArC;MACE,CARN;IAUI,CAhBI;IAiBLG,QAAQ,EAAC,YAAW;MAExB;MAES,IAAG,KAAKjB,MAAL,IAAa,KAAhB,EACA;QACGF,KAAK,CAACoB,IAAN,CAAWX,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,eAAxC,EAAyD,KAAKW,KAAL,CAAWC,IAApE,EACRX,IADQ,CACHC,QAAO,IAAI;UAACC,OAAO,CAACC,GAAR,CAAYF,QAAZ;UACjB,KAAKL,MAAL;QAIA,CANQ,EAORQ,KAPQ,CAOFC,KAAI,IAAK;UACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;UACAL,OAAO,CAACG,KAAR,CAAc,qBAAd,EAAqCA,KAArC;QACE,CAVK;MAWH,CAbA,MAcI;QACD,IAAIO,OAAO,GAAC;UACJ,QAAO,KAAKpB,IADR;UAEJ,QAAO,KAAKC;QAFR,CAAZ;QAIAJ,KAAK,CAACwB,KAAN,CAAYf,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,gBAA7B,GAA8C,KAAKL,EAA/D,EAAmEkB,OAAnE,EACRZ,IADQ,CACHC,QAAO,IAAI;UAACC,OAAO,CAACC,GAAR,CAAYF,QAAZ;UACjB,KAAKL,MAAL;UAED,KAAKL,MAAL,GAAY,KAAZ;QAEC,CANQ,EAORa,KAPQ,CAOFC,KAAI,IAAK;UACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;UACAL,OAAO,CAACG,KAAR,CAAc,qBAAd,EAAqCA,KAArC;QACE,CAVK;MAWH;IAEJ,CArDI;IAsDLS,MAAM,EAAC,UAASxB,IAAT,EACP;MACI,KAAKC,MAAL,GAAY,IAAZ;MACA,KAAKC,IAAL,GAAUF,IAAI,CAACE,IAAf;MACA,KAAKC,IAAL,GAAUH,IAAI,CAACG,IAAf;MACA,KAAKC,EAAL,GAAQJ,IAAI,CAACI,EAAb;IACH,CA5DI;IA6DLqB,QAAQ,EAAC,UAASrB,EAAT,EACT;MACIL,KAAK,CAAC2B,MAAN,CAAalB,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,gBAA7B,GAA8CL,EAA3D,EACJM,IADI,CACCC,QAAO,IAAI;QAACC,OAAO,CAACC,GAAR,CAAYF,QAAZ;QACjB,KAAKL,MAAL;MAGA,CALI,EAMJQ,KANI,CAMEC,KAAI,IAAK;QACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;QACAL,OAAO,CAACG,KAAR,CAAc,qBAAd,EAAqCA,KAArC;MACE,CATC;IAUJ;EAzEK,CAdE;;EA4FXY,OAAM,GAAK;IACP,KAAKrB,MAAL;EACH;;AA9FU,CAAf","names":["axios","data","isedit","name","code","id","methods","doshow","get","localStorage","getItem","then","response","console","log","catch","error","errorMessage","message","docreate","post","$refs","form","article","patch","doedit","dodelete","delete","mounted"],"sourceRoot":"","sources":["C:\\Users\\Si Thu Hein\\OneDrive - University of Greenwich\\Desktop\\store program\\store_front\\pos_system_own_project\\src\\views\\Product\\category.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"col-md-5 mb-5\">\r\n\r\n\r\n\r\n                <form action=\"\" ref=\"form\" v-on:submit.prevent=\"docreate\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\">\r\n                        Category \r\n                    </div>\r\n                    <div class=\"card-body\">\r\n\r\n\r\n                            <div class=\"row d-flex justify-content-center\">\r\n                                            <div class=\"col-md-10 mb-3\">\r\n                                                <label for=\"\">Code</label>\r\n                                                <input v-if=\"isedit==false\" name=\"code\" v-model=\"code\"  type=\"text\" class=\"form-control\" requried>\r\n                                                <input v-if=\"isedit==true\" name=\"code\"  v-model=\"code\" type=\"text\" class=\"form-control\" requried>\r\n                                        \r\n                                            </div>\r\n                                            <div class=\"col-md-10 mb-3\">\r\n                                                <label for=\"\">Name</label>\r\n                                                <input v-if=\"isedit==false\" name=\"name\" v-model=\"name\" type=\"text\" class=\"form-control\" requried>\r\n                                                <input v-if=\"isedit==true\" name=\"name\" v-model=\"name\" type=\"text\" class=\"form-control\" requried>\r\n                                        \r\n                                            </div>\r\n                                            <div class=\"col-md-10 mb-3\">\r\n                                            <button v-if=\"isedit==false\" type=\"submit\" class=\"btn btn-primary\" style=\"width:100%\">Save</button>\r\n                                            <button v-if=\"isedit==true\" type=\"submit\"  class=\"btn btn-primary\" style=\"width:100%\">update</button>\r\n                                            <br>\r\n                                           <button v-if=\"isedit==true\" @click=\"isedit=false\" type=\"submit\"  class=\"btn btn-danger\" style=\"width:100%\">cancle</button>\r\n                                            </div>\r\n                                        </div>\r\n                        </div>\r\n        </div>\r\n\r\n    </form>\r\n                </div>\r\n\r\n                <div class=\"col-md-10\">\r\n                    <div>\r\n                        <table class=\"table table-hover table-bordered \">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th >No</th>\r\n                                    <th>Code</th>\r\n                                    <th>Name</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                \r\n                                <tr v-for=\"(dat,index) in data\">    \r\n                                    <td> {{ ++index }}  </td>\r\n                                    <td> {{ dat.code }}  </td>\r\n                                    <td> {{ dat.name }}   </td>\r\n                                    <td style=\"width:130px;\"> \r\n                                    <button class=\"btn btn-warning m-1\" @click=\"doedit(dat)\"><font-awesome-icon icon=\"fa-solid fa-pen-to-square\" />   </button>    \r\n                                    <button class=\"btn btn-danger m-1\" @click=\"dodelete(dat.id)\">   <font-awesome-icon icon=\"fa-solid fa-trash\" /></button>\r\n                                 \r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n       \r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    data () {\r\n        \r\n\r\n        return {\r\n\r\n            isedit:false,\r\n            name:'',\r\n            code:'',\r\n            data:'',\r\n            id:'',\r\n\r\n        }\r\n    },\r\n    methods: {\r\n    \r\n        doshow:function()\r\n        {\r\n\r\n          \r\n     axios.get(localStorage.getItem(\"link\")+\"/api/category\")\r\n       .then(response =>{console.log(response)\r\n       this.data= response.data\r\n      \r\n       })\r\n       .catch(error => {\r\n         this.errorMessage = error.message;\r\n         console.error(\"There was an error!\", error);\r\n          })\r\n\r\n        },\r\n        docreate:function() {\r\n\r\n    //                 \r\n\r\n             if(this.isedit==false)\r\n             {\r\n                axios.post(localStorage.getItem(\"link\")+\"/api/category\", this.$refs.form)\r\n       .then(response =>{console.log(response)\r\n        this.doshow();\r\n\r\n       \r\n      \r\n       })\r\n       .catch(error => {\r\n         this.errorMessage = error.message;\r\n         console.error(\"There was an error!\", error);\r\n          })\r\n             }\r\n             else{\r\n                let article={\r\n                        'name':this.name,\r\n                        'code':this.code\r\n                    }\r\n                axios.patch(localStorage.getItem(\"link\")+\"/api/category/\"+this.id, article)\r\n       .then(response =>{console.log(response)\r\n        this.doshow();\r\n\r\n       this.isedit=false;\r\n      \r\n       })\r\n       .catch(error => {\r\n         this.errorMessage = error.message;\r\n         console.error(\"There was an error!\", error);\r\n          })\r\n             }\r\n\r\n        },\r\n        doedit:function(data)\r\n        {\r\n            this.isedit=true;\r\n            this.name=data.name;\r\n            this.code=data.code;\r\n            this.id=data.id;\r\n        },\r\n        dodelete:function(id)\r\n        {\r\n            axios.delete(localStorage.getItem(\"link\")+\"/api/category/\"+id)\r\n       .then(response =>{console.log(response)\r\n        this.doshow();\r\n\r\n      \r\n       })\r\n       .catch(error => {\r\n         this.errorMessage = error.message;\r\n         console.error(\"There was an error!\", error);\r\n          })\r\n        }\r\n        \r\n        \r\n    \r\n    },\r\n    mounted () {\r\n        this.doshow();\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}