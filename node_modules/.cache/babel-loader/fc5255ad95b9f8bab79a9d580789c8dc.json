{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport router from './../../router';\nexport default {\n  data() {\n    return {\n      sellinglist: [],\n      tabledata: [],\n      supplierlist: []\n    };\n  },\n\n  mounted() {\n    this.showsupplier();\n    this.showdata();\n    this.dat = $(this.$refs.tablefeature).DataTable({\n      \"fnRowCallback\": function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\n        $('td:eq(0)', nRow).html(iDisplayIndexFull + 1);\n      }\n    });\n  },\n\n  watch: {\n    sellinglist(val) {\n      this.dat.destroy();\n      this.$nextTick(() => {\n        this.dat = $(this.$refs.tablefeature).DataTable({\n          \"fnRowCallback\": function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\n            $('td:eq(0)', nRow).html(iDisplayIndexFull + 1);\n          }\n        });\n      });\n    }\n\n  },\n  methods: {\n    showsupplier: function () {\n      axios.get(localStorage.getItem(\"link\") + \"/api/supplier\").then(response => {\n        console.log(response);\n        this.supplierlist = response.data;\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    },\n    tabledata1: function () {\n      for (let a = 0; a < this.sellinglist.length; a++) {\n        this.tabledata.push([a + 1, this.sellinglist[a].supplier_id, this.sellinglist[a].date, this.sellinglist[a].totalprice, this.sellinglist[a].totalpaid]);\n      }\n\n      console.log(this.tabledata);\n    },\n    purchasedetail: function (id) {\n      router.push({\n        path: '/saledetail',\n        query: {\n          selling_id: id\n        }\n      });\n    },\n    showdata: function () {\n      //                 \n      axios.get(localStorage.getItem(\"link\") + \"/api/selling\").then(response => {\n        console.log(response);\n        this.sellinglist = response.data;\n\n        for (let a = 0; a < this.sellinglist.length; a++) {}\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAoCA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,eAAe;EACXC,IAAG,GAAK;IAGJ,OAAO;MACHC,WAAW,EAAC,EADT;MAEHC,SAAS,EAAC,EAFP;MAGHC,YAAY,EAAC;IAHV,CAAP;EAKH,CATU;;EAUXC,OAAM,GAAK;IACP,KAAKC,YAAL;IACA,KAAKC,QAAL;IAEF,KAAKC,GAAL,GAAWC,CAAC,CAAC,KAAKC,KAAL,CAAWC,YAAZ,CAAD,CAA2BC,SAA3B,CAAqC;MAE9C,iBAAiB,UAAUC,IAAV,EAAgBC,KAAhB,EAAuBC,aAAvB,EAAsCC,iBAAtC,EAA0D;QAC3EP,CAAC,CAAC,UAAD,EAAaI,IAAb,CAAD,CAAoBI,IAApB,CAAyBD,iBAAgB,GAAG,CAA5C;MACJ;IAJkD,CAArC,CAAX;EAQD,CAtBU;;EAuBXE,KAAK,EAAE;IAEHhB,WAAW,CAACiB,GAAD,EAAM;MACrB,KAAKX,GAAL,CAASY,OAAT;MACA,KAAKC,SAAL,CAAe,MAAM;QACjB,KAAKb,GAAL,GAAUC,CAAC,CAAC,KAAKC,KAAL,CAAWC,YAAZ,CAAD,CAA2BC,SAA3B,CAAqC;UAC3C,iBAAiB,UAAUC,IAAV,EAAgBC,KAAhB,EAAuBC,aAAvB,EAAsCC,iBAAtC,EAA0D;YAC/EP,CAAC,CAAC,UAAD,EAAaI,IAAb,CAAD,CAAoBI,IAApB,CAAyBD,iBAAgB,GAAG,CAA5C;UACJ;QAHmD,CAArC,CAAV;MAMH,CAPD;IAQF;;EAZS,CAvBI;EAqCXM,OAAO,EAAE;IACLhB,YAAY,EAAC,YACb;MAGHP,KAAK,CAACwB,GAAN,CAAUC,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,eAAvC,EACGC,IADH,CACQC,QAAO,IAAI;QAACC,OAAO,CAACC,GAAR,CAAYF,QAAZ;QAClB,KAAKvB,YAAL,GAAmBuB,QAAQ,CAAC1B,IAA5B;MAEC,CAJH,EAKG6B,KALH,CAKSC,KAAI,IAAK;QACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;QACAL,OAAO,CAACG,KAAR,CAAc,qBAAd,EAAqCA,KAArC;MACE,CARN;IAUI,CAfI;IAgBLG,UAAU,EAAC,YACX;MACI,KAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKjC,WAAL,CAAiBkC,MAA/B,EAAsCD,CAAC,EAAvC,EACR;QAEI,KAAKhC,SAAL,CAAekC,IAAf,CAAoB,CAACF,CAAC,GAAC,CAAH,EAAO,KAAKjC,WAAL,CAAiBiC,CAAjB,EAAoBG,WAA3B,EACpB,KAAKpC,WAAL,CAAiBiC,CAAjB,EAAoBI,IADA,EAEpB,KAAKrC,WAAL,CAAiBiC,CAAjB,EAAoBK,UAFA,EAGpB,KAAKtC,WAAL,CAAiBiC,CAAjB,EAAoBM,SAHA,CAApB;MAKJ;;MACAb,OAAO,CAACC,GAAR,CAAY,KAAK1B,SAAjB;IACK,CA5BI;IA6BLuC,cAAc,EAAC,UAASC,EAAT,EACf;MACI3C,MAAM,CAACqC,IAAP,CAAY;QAAEO,IAAI,EAAE,aAAR;QAAuBC,KAAK,EAAE;UAAEC,UAAU,EAACH;QAAb;MAA9B,CAAZ;IACH,CAhCI;IAiCLpC,QAAQ,EAAC,YAAW;;MAKhBR,KAAK,CAACwB,GAAN,CAAUC,YAAY,CAACC,OAAb,CAAqB,MAArB,IAA6B,cAAvC,EACRC,IADQ,CACHC,QAAO,IAAI;QACpBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;QACE,KAAKzB,WAAL,GAAiByB,QAAQ,CAAC1B,IAA1B;;QACF,KAAI,IAAIkC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKjC,WAAL,CAAiBkC,MAA/B,EAAsCD,CAAC,EAAvC,EACA,CAEA;MAEI,CATQ,EAURL,KAVQ,CAUFC,KAAI,IAAK;QACd,KAAKC,YAAL,GAAoBD,KAAK,CAACE,OAA1B;QACAL,OAAO,CAACG,KAAR,CAAc,qBAAd,EAAqCA,KAArC;MACE,CAbK;IAiBP;EAvDQ;AArCE,CAAf","names":["axios","router","data","sellinglist","tabledata","supplierlist","mounted","showsupplier","showdata","dat","$","$refs","tablefeature","DataTable","nRow","aData","iDisplayIndex","iDisplayIndexFull","html","watch","val","destroy","$nextTick","methods","get","localStorage","getItem","then","response","console","log","catch","error","errorMessage","message","tabledata1","a","length","push","supplier_id","date","totalprice","totalpaid","purchasedetail","id","path","query","selling_id"],"sourceRoot":"","sources":["/Users/sithuhein/Desktop/PosSystem/pos_project_bk/src/views/Management/sellinghistory.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"row d-flex justify-content-center\">\n            <div class=\"col-md-12\" >\n                <table  ref=\"tablefeature\" id=\"tabledata2\" class=\"display\" style=\"width:100%\"  >\n                    <thead>\n                        <tr>\n                            <th></th>\n                            <th>Customer_id</th>\n                            <th>Type</th>\n                            <th>Date</th>\n                            <th>Total Price</th>\n                            <th>action</th>\n                        </tr>\n                    </thead>\n                    <tbody >\n                        <tr v-for=\"(pl,index) in sellinglist\"  >\n                            \n                            <td ></td>\n                            <td>  <span v-if=\"pl.customer_id==0\">Unknown</span> <span v-if=\"pl.customer_id=!0\">{{ pl.customer_id }}</span>    </td>\n                            <td>{{ pl.date }}</td>\n                            <td>{{ pl.totalprice }}</td>\n                            <td>{{ pl.totalpaid }}</td>\n                            <td>\n                                <button class=\"btn btn-info\" @click=\"purchasedetail(pl.id)\">Detail</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\n\nimport router from './../../router'\nexport default {\n    data () {\n        \n\n        return {\n            sellinglist:[],\n            tabledata:[],\n            supplierlist:[],\n        }\n    },\n    mounted () {\n        this.showsupplier()\n        this.showdata();\n       \n      this.dat=  $(this.$refs.tablefeature).DataTable({\n\n        \"fnRowCallback\": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {\n        $('td:eq(0)', nRow).html(iDisplayIndexFull +1);\n    }\n     \n      });\n     \n    },\n    watch: {\n        \n        sellinglist(val) {\n    this.dat.destroy();\n    this.$nextTick(() => {\n        this.dat= $(this.$refs.tablefeature).DataTable({\n            \"fnRowCallback\": function( nRow, aData, iDisplayIndex, iDisplayIndexFull ) {\n        $('td:eq(0)', nRow).html(iDisplayIndexFull +1);\n    }\n        })\n\n    });\n  }\n    },\n    methods: {\n        showsupplier:function()\n        {\n\n          \n     axios.get(localStorage.getItem(\"link\")+\"/api/supplier\")\n       .then(response =>{console.log(response)\n       this.supplierlist= response.data\n      \n       })\n       .catch(error => {\n         this.errorMessage = error.message;\n         console.error(\"There was an error!\", error);\n          })\n\n        },\n        tabledata1:function()\n        {\n            for(let a=0;a<this.sellinglist.length;a++)\n    {\n        \n        this.tabledata.push([a+1,  this.sellinglist[a].supplier_id ,\n        this.sellinglist[a].date ,\n        this.sellinglist[a].totalprice,\n        this.sellinglist[a].totalpaid])\n      \n    }\n    console.log(this.tabledata)\n        },\n        purchasedetail:function(id)\n        {\n            router.push({ path: '/saledetail', query: { selling_id:id } })\n        },\n        showdata:function() {\n\n//                 \n\n \n            axios.get(localStorage.getItem(\"link\")+\"/api/selling\")\n   .then(response =>{\nconsole.log(response)\n  this.sellinglist=response.data;\nfor(let a=0;a<this.sellinglist.length;a++)\n{\n   \n}\n  \n   })\n   .catch(error => {\n     this.errorMessage = error.message;\n     console.error(\"There was an error!\", error);\n      })\n      \n      \n\n    },\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}