{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport router from './../../router';\nexport default {\n  data() {\n    return {\n      purchaselist: [],\n      tabledata: []\n    };\n  },\n\n  mounted() {\n    this.showdata();\n    this.dat = $(this.$refs.tablefeature).DataTable({\n      columnDefs: [{\n        searchable: false,\n        orderable: false,\n        targets: 0\n      }],\n      order: [[1, 'asc']]\n    });\n  },\n\n  watch: {\n    purchaselist(val) {\n      this.dat.destroy();\n      this.$nextTick(() => {\n        this.dat = $(this.$refs.tablefeature).DataTable({\n          columnDefs: [{\n            searchable: false,\n            orderable: false,\n            targets: 0\n          }, t.on('order.dt search.dt', function () {\n            let i = 1;\n            this.dat.cells(null, 0, {\n              search: 'applied',\n              order: 'applied'\n            }).every(function (cell) {\n              this.data(i++);\n            });\n          }).draw()],\n          order: [[1, 'asc']]\n        });\n      });\n    }\n\n  },\n  methods: {\n    tabledata1: function () {\n      for (let a = 0; a < this.purchaselist.length; a++) {\n        this.tabledata.push([a + 1, this.purchaselist[a].supplier_id, this.purchaselist[a].date, this.purchaselist[a].totalprice, this.purchaselist[a].totalpaid]);\n      }\n\n      console.log(this.tabledata);\n    },\n    purchasedetail: function (id) {\n      router.push({\n        path: '/purchasedetail',\n        query: {\n          purchase_id: id\n        }\n      });\n    },\n    showdata: function () {\n      //                 \n      axios.get(localStorage.getItem(\"link\") + \"/api/purchase\").then(response => {\n        console.log(response);\n        this.purchaselist = response.data;\n      }).catch(error => {\n        this.errorMessage = error.message;\n        console.error(\"There was an error!\", error);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","router","data","purchaselist","tabledata","mounted","showdata","dat","$","$refs","tablefeature","DataTable","columnDefs","searchable","orderable","targets","order","watch","val","destroy","$nextTick","t","on","i","cells","search","every","cell","draw","methods","tabledata1","a","length","push","supplier_id","date","totalprice","totalpaid","console","log","purchasedetail","id","path","query","purchase_id","get","localStorage","getItem","then","response","catch","error","errorMessage","message"],"sourceRoot":"","sources":["/Users/sithuhein/Desktop/PosSystem/pos_project_bk/src/views/Management/PurchaseHistory.vue"],"sourcesContent":["<template>\n    <div>\n        <div class=\"row d-flex justify-content-center\">\n            <div class=\"col-md-12\" >\n                <table  ref=\"tablefeature\" id=\"tabledata2\" class=\"display\" style=\"width:100%\"  >\n                    <thead>\n                        <tr>\n                            <th></th>\n                            <th>Supplier</th>\n                            <th>Date</th>\n                            <th>TotalPrice</th>\n                            <th>TotalPaid</th>\n                            <th>action</th>\n                        </tr>\n                    </thead>\n                    <tbody >\n                        <tr v-for=\"(pl,index) in purchaselist\"  >\n                            \n                            <td ></td>\n                            <td>{{ pl.supplier_id }}</td>\n                            <td>{{ pl.date }}</td>\n                            <td>{{ pl.totalprice }}</td>\n                            <td>{{ pl.totalpaid }}</td>\n                            <td>\n                                <button class=\"btn btn-info\" @click=\"purchasedetail(pl.id)\">Detail</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\n\nimport router from './../../router'\nexport default {\n    data () {\n        \n\n        return {\n            purchaselist:[],\n            tabledata:[],\n        }\n    },\n    mounted () {\n        this.showdata();\n       \n      this.dat=  $(this.$refs.tablefeature).DataTable({\n\n        columnDefs: [\n            {\n                searchable: false,\n                orderable: false,\n                targets: 0,\n            },\n        ],\n        order: [[1, 'asc']],\n     \n      });\n\n    },\n    watch: {\n        \n        purchaselist(val) {\n    this.dat.destroy();\n    this.$nextTick(() => {\n        this.dat= $(this.$refs.tablefeature).DataTable({\n            columnDefs: [\n            {\n                searchable: false,\n                orderable: false,\n                targets: 0,\n            },\n            t.on('order.dt search.dt', function () {\n        let i = 1;\n \n        this.dat.cells(null, 0, { search: 'applied', order: 'applied' }).every(function (cell) {\n            this.data(i++);\n        });\n    }).draw()\n        ],\n        order: [[1, 'asc']],\n        })\n    });\n  }\n    },\n    methods: {\n        tabledata1:function()\n        {\n            for(let a=0;a<this.purchaselist.length;a++)\n    {\n        \n        this.tabledata.push([a+1,  this.purchaselist[a].supplier_id ,\n        this.purchaselist[a].date ,\n        this.purchaselist[a].totalprice,\n        this.purchaselist[a].totalpaid])\n      \n    }\n    console.log(this.tabledata)\n        },\n        purchasedetail:function(id)\n        {\n            router.push({ path: '/purchasedetail', query: { purchase_id:id } })\n        },\n        showdata:function() {\n\n//                 \n\n \n            axios.get(localStorage.getItem(\"link\")+\"/api/purchase\")\n   .then(response =>{\nconsole.log(response)\n  this.purchaselist=response.data;\n\n  \n   })\n   .catch(error => {\n     this.errorMessage = error.message;\n     console.error(\"There was an error!\", error);\n      })\n      \n      \n\n    },\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}